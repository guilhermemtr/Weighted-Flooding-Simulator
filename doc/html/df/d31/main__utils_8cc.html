<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Weighted Flooding Simulator: utils/main_utils.cc File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Weighted Flooding Simulator
   </div>
   <div id="projectbrief">Simulator for message flooding protocols on graphs where nodes (i.e. parties) have weights.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_cbdb8362360e11eafe2fa3bc74cf0ffd.html">utils</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">main_utils.cc File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="../../">main_utils.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for main_utils.cc:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d8/da4/main__utils_8cc__incl.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</div>
<p><a href="">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a02fd73d861ef2e4aabb38c0c9ff82947"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d31/main__utils_8cc.html#a02fd73d861ef2e4aabb38c0c9ff82947">init</a> ()</td></tr>
<tr class="memdesc:a02fd73d861ef2e4aabb38c0c9ff82947"><td class="mdescLeft">&#160;</td><td class="mdescRight">Runs initialization procedures.  <a href="../../df/d31/main__utils_8cc.html#a02fd73d861ef2e4aabb38c0c9ff82947">More...</a><br /></td></tr>
<tr class="separator:a02fd73d861ef2e4aabb38c0c9ff82947"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3201d4e5bc0eff5d7dd5c0993b5aaa34"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="../../d9/d49/types_8h.html#a9d08d501a63aaa3f54930ebf35037298">stake_t</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d31/main__utils_8cc.html#a3201d4e5bc0eff5d7dd5c0993b5aaa34">generate_stake_distribution</a> (<a class="el" href="../../d9/d49/types_8h.html#a82187f179e537bebf2170deb85c3d6a8">party_t</a> n, double param1, long unsigned int param2, unsigned int flags)</td></tr>
<tr class="separator:a3201d4e5bc0eff5d7dd5c0993b5aaa34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17e1a5d2f144555f81b2bed8a6ca7cd4"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="../../d9/d49/types_8h.html#ab7662475b458e14534004c28ee68aebb">corruption_t</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d31/main__utils_8cc.html#a17e1a5d2f144555f81b2bed8a6ca7cd4">get_corrupted_parties</a> (std::vector&lt; <a class="el" href="../../d9/d49/types_8h.html#a9d08d501a63aaa3f54930ebf35037298">stake_t</a> &gt; stakes, std::set&lt; <a class="el" href="../../d9/d49/types_8h.html#a82187f179e537bebf2170deb85c3d6a8">party_t</a> &gt; honest, <a class="el" href="../../d9/d49/types_8h.html#ab7662475b458e14534004c28ee68aebb">corruption_t</a> corruption_strategy, double corruption_threshold)</td></tr>
<tr class="memdesc:a17e1a5d2f144555f81b2bed8a6ca7cd4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generates a corruption set.  <a href="../../df/d31/main__utils_8cc.html#a17e1a5d2f144555f81b2bed8a6ca7cd4">More...</a><br /></td></tr>
<tr class="separator:a17e1a5d2f144555f81b2bed8a6ca7cd4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a5dbbd7c40fe6e2edd8785be992bca6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d31/main__utils_8cc.html#a4a5dbbd7c40fe6e2edd8785be992bca6">show_distribution_info</a> (unsigned int flags, unsigned int to_show)</td></tr>
<tr class="memdesc:a4a5dbbd7c40fe6e2edd8785be992bca6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prints the distribution name for a given set of flags (which represent a distribution).  <a href="../../df/d31/main__utils_8cc.html#a4a5dbbd7c40fe6e2edd8785be992bca6">More...</a><br /></td></tr>
<tr class="separator:a4a5dbbd7c40fe6e2edd8785be992bca6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1b6cbe8df7ce0708db2a999eabbc1f4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d31/main__utils_8cc.html#ad1b6cbe8df7ce0708db2a999eabbc1f4">show_run_data</a> (std::string prot_name, double correct_runs, double runs, size_t factor, unsigned int to_show)</td></tr>
<tr class="separator:ad1b6cbe8df7ce0708db2a999eabbc1f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0444e24a736cc8cfe957ba539ff8e797"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:a0444e24a736cc8cfe957ba539ff8e797"><td class="memTemplItemLeft" align="right" valign="top">std::vector&lt; T &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="../../df/d31/main__utils_8cc.html#a0444e24a736cc8cfe957ba539ff8e797">run_tests</a> (<a class="el" href="../../d9/d49/types_8h.html#a82187f179e537bebf2170deb85c3d6a8">party_t</a> n, unsigned int flags, size_t runs, <a class="el" href="../../d9/d49/types_8h.html#ab7662475b458e14534004c28ee68aebb">corruption_t</a> corruption_strategy, double corruption_threshold, size_t factor, double rich_poor_ratio, long unsigned int nr_rich, std::function&lt; <a class="el" href="../../df/dcc/classcorruptions__stake__protocol__simulator.html">corruptions_stake_protocol_simulator</a> *(std::vector&lt; <a class="el" href="../../d9/d49/types_8h.html#a9d08d501a63aaa3f54930ebf35037298">stake_t</a> &gt;, <a class="el" href="../../d9/d49/types_8h.html#a9d08d501a63aaa3f54930ebf35037298">stake_t</a>, size_t)&gt; simulator_constructor, std::function&lt; T(<a class="el" href="../../df/dcc/classcorruptions__stake__protocol__simulator.html">corruptions_stake_protocol_simulator</a> *)&gt; get_data)</td></tr>
<tr class="memdesc:a0444e24a736cc8cfe957ba539ff8e797"><td class="mdescLeft">&#160;</td><td class="mdescRight">Runs tests for a fixed set of parameters.  <a href="../../df/d31/main__utils_8cc.html#a0444e24a736cc8cfe957ba539ff8e797">More...</a><br /></td></tr>
<tr class="separator:a0444e24a736cc8cfe957ba539ff8e797"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a879988a35d9f365cfd7be505e0b71fac"><td class="memItemLeft" align="right" valign="top">template std::vector&lt; std::pair&lt; bool, <a class="el" href="../../d9/d49/types_8h.html#a4f4e83773e5110174ea5b38137e1a6f6">round_t</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d31/main__utils_8cc.html#a879988a35d9f365cfd7be505e0b71fac">run_tests</a> (<a class="el" href="../../d9/d49/types_8h.html#a82187f179e537bebf2170deb85c3d6a8">party_t</a> n, unsigned int flags, size_t runs, <a class="el" href="../../d9/d49/types_8h.html#ab7662475b458e14534004c28ee68aebb">corruption_t</a> corruption_strategy, double corruption_threshold, size_t factor, double rich_poor_ratio, long unsigned int nr_rich, std::function&lt; <a class="el" href="../../df/dcc/classcorruptions__stake__protocol__simulator.html">corruptions_stake_protocol_simulator</a> *(std::vector&lt; <a class="el" href="../../d9/d49/types_8h.html#a9d08d501a63aaa3f54930ebf35037298">stake_t</a> &gt;, <a class="el" href="../../d9/d49/types_8h.html#a9d08d501a63aaa3f54930ebf35037298">stake_t</a>, size_t)&gt; simulator_constructor, std::function&lt; std::pair&lt; bool, <a class="el" href="../../d9/d49/types_8h.html#a4f4e83773e5110174ea5b38137e1a6f6">round_t</a> &gt;(<a class="el" href="../../df/dcc/classcorruptions__stake__protocol__simulator.html">corruptions_stake_protocol_simulator</a> *)&gt; get_data)</td></tr>
<tr class="separator:a879988a35d9f365cfd7be505e0b71fac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f4afe28d9c87b5957823f96ebe7dd48"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d31/main__utils_8cc.html#a8f4afe28d9c87b5957823f96ebe7dd48">run_command_parameters</a> (int argc, char **argv, std::string prot_name, std::function&lt; <a class="el" href="../../df/dcc/classcorruptions__stake__protocol__simulator.html">corruptions_stake_protocol_simulator</a> *(std::vector&lt; <a class="el" href="../../d9/d49/types_8h.html#a9d08d501a63aaa3f54930ebf35037298">stake_t</a> &gt;, <a class="el" href="../../d9/d49/types_8h.html#a9d08d501a63aaa3f54930ebf35037298">stake_t</a>, size_t)&gt; simulator_constructor)</td></tr>
<tr class="separator:a8f4afe28d9c87b5957823f96ebe7dd48"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a3201d4e5bc0eff5d7dd5c0993b5aaa34" name="a3201d4e5bc0eff5d7dd5c0993b5aaa34"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3201d4e5bc0eff5d7dd5c0993b5aaa34">&#9670;&nbsp;</a></span>generate_stake_distribution()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="../../d9/d49/types_8h.html#a9d08d501a63aaa3f54930ebf35037298">stake_t</a> &gt; generate_stake_distribution </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d49/types_8h.html#a82187f179e537bebf2170deb85c3d6a8">party_t</a>&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>param1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long unsigned int&#160;</td>
          <td class="paramname"><em>param2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   18</span>{</div>
<div class="line"><span class="lineno">   19</span>  <a class="code hl_define" href="../../d0/d70/yal__log_8h.html#aa1a44fc89acffe0e9ceb68840e2516b9">__yal_log</a> (<a class="code hl_define" href="../../d0/d70/yal__log_8h.html#aa60136c17617acba656334cdac4db9f6">__YAL_INFO</a>,</div>
<div class="line"><span class="lineno">   20</span>             <span class="stringliteral">&quot;&lt;main_utils.cc:generate_stake_distribution(%lu,%lf,%lu,%s)&gt;\n&quot;</span>,</div>
<div class="line"><span class="lineno">   21</span>             n,</div>
<div class="line"><span class="lineno">   22</span>             param1,</div>
<div class="line"><span class="lineno">   23</span>             param2,</div>
<div class="line"><span class="lineno">   24</span>             (std::bitset&lt;TEST_TYPES&gt; (flags)).to_string ().c_str ());</div>
<div class="line"><span class="lineno">   25</span> </div>
<div class="line"><span class="lineno">   26</span>  std::vector&lt;stake_t&gt;         stakes (n);</div>
<div class="line"><span class="lineno">   27</span>  <a class="code hl_class" href="../../da/d55/classstake__distribution__generator.html">stake_distribution_generator</a> sdgen;</div>
<div class="line"><span class="lineno">   28</span> </div>
<div class="line"><span class="lineno">   29</span>  <span class="comment">// Deterministic Distributions</span></div>
<div class="line"><span class="lineno">   30</span>  <span class="comment">// test constant distribution</span></div>
<div class="line"><span class="lineno">   31</span>  <span class="keywordflow">if</span> (flags &amp; <a class="code hl_define" href="../../d1/dde/read__args_8h.html#a23858f91d0a8d9511f744532e903fd50">DET_CONST_DIST</a>)</div>
<div class="line"><span class="lineno">   32</span>  {</div>
<div class="line"><span class="lineno">   33</span>    stakes = sdgen.<a class="code hl_function" href="../../da/d55/classstake__distribution__generator.html#af5c65ab784b15f01894e7130cc0bb661">constant_stake</a> (n, 1);</div>
<div class="line"><span class="lineno">   34</span>  }</div>
<div class="line"><span class="lineno">   35</span> </div>
<div class="line"><span class="lineno">   36</span>  <span class="comment">// test few fat distribution, thin sender</span></div>
<div class="line"><span class="lineno">   37</span>  <span class="keywordflow">if</span> (flags &amp; <a class="code hl_define" href="../../d1/dde/read__args_8h.html#abe3b3c7241737a002e9cbd83652ccb1b">DET_FF_THIN_DIST</a>)</div>
<div class="line"><span class="lineno">   38</span>  {</div>
<div class="line"><span class="lineno">   39</span>    stakes = sdgen.<a class="code hl_function" href="../../da/d55/classstake__distribution__generator.html#a0adac7b42eefa5f4ba734955f104030d">few_fat_thin_stake</a> (n, param1, param2);</div>
<div class="line"><span class="lineno">   40</span>  }</div>
<div class="line"><span class="lineno">   41</span> </div>
<div class="line"><span class="lineno">   42</span>  <span class="comment">// test few fat distribution, fat sender</span></div>
<div class="line"><span class="lineno">   43</span>  <span class="keywordflow">if</span> (flags &amp; <a class="code hl_define" href="../../d1/dde/read__args_8h.html#ac43d86c906b6eb49b04f478fb6c40a0a">DET_FF_FAT_DIST</a>)</div>
<div class="line"><span class="lineno">   44</span>  {</div>
<div class="line"><span class="lineno">   45</span>    stakes = sdgen.<a class="code hl_function" href="../../da/d55/classstake__distribution__generator.html#a4cd5971c4b30a302ace9153acde41598">few_fat_fat_stake</a> (n, param1, param2);</div>
<div class="line"><span class="lineno">   46</span>  }</div>
<div class="line"><span class="lineno">   47</span> </div>
<div class="line"><span class="lineno">   48</span>  <span class="comment">// test exponential distribution, thinnest sender</span></div>
<div class="line"><span class="lineno">   49</span>  <span class="keywordflow">if</span> (flags &amp; <a class="code hl_define" href="../../d1/dde/read__args_8h.html#aeca7078ed65b8e3a4f00180fd7380f17">DET_EXP_THIN_DIST</a>)</div>
<div class="line"><span class="lineno">   50</span>  {</div>
<div class="line"><span class="lineno">   51</span>    stakes = sdgen.<a class="code hl_function" href="../../da/d55/classstake__distribution__generator.html#afb11a0731fa642877492417f211a10c1">exponential_thinnest_stake</a> (n, param1);</div>
<div class="line"><span class="lineno">   52</span>  }</div>
<div class="line"><span class="lineno">   53</span> </div>
<div class="line"><span class="lineno">   54</span>  <span class="comment">// test exponential distribution, median sender</span></div>
<div class="line"><span class="lineno">   55</span>  <span class="keywordflow">if</span> (flags &amp; <a class="code hl_define" href="../../d1/dde/read__args_8h.html#af6e0cc51561c30ecdeb804889971d16a">DET_EXP_MEDN_DIST</a>)</div>
<div class="line"><span class="lineno">   56</span>  {</div>
<div class="line"><span class="lineno">   57</span>    stakes = sdgen.<a class="code hl_function" href="../../da/d55/classstake__distribution__generator.html#a7f6c4913d46b461e23e4c59c75c4f99c">exponential_median_stake</a> (n, param1);</div>
<div class="line"><span class="lineno">   58</span>  }</div>
<div class="line"><span class="lineno">   59</span> </div>
<div class="line"><span class="lineno">   60</span>  <span class="comment">// test exponential distribution, thinnest sender</span></div>
<div class="line"><span class="lineno">   61</span>  <span class="keywordflow">if</span> (flags &amp; <a class="code hl_define" href="../../d1/dde/read__args_8h.html#ad6004b5996171ba06a9e54f26dae22e2">DET_EXP_FAT_DIST</a>)</div>
<div class="line"><span class="lineno">   62</span>  {</div>
<div class="line"><span class="lineno">   63</span>    stakes = sdgen.<a class="code hl_function" href="../../da/d55/classstake__distribution__generator.html#a5c9f7952feefe35ca261e18fa89e5677">exponential_fattest_stake</a> (n, param1);</div>
<div class="line"><span class="lineno">   64</span>  }</div>
<div class="line"><span class="lineno">   65</span> </div>
<div class="line"><span class="lineno">   66</span>  <span class="comment">// Random Distributions</span></div>
<div class="line"><span class="lineno">   67</span>  <span class="comment">// test random exponential distribution</span></div>
<div class="line"><span class="lineno">   68</span>  <span class="keywordflow">if</span> (flags &amp; <a class="code hl_define" href="../../d1/dde/read__args_8h.html#a94f39ba3e08874d0c8660a5f505f973f">RAND_EXP_RAND_SND_DIST</a>)</div>
<div class="line"><span class="lineno">   69</span>  {</div>
<div class="line"><span class="lineno">   70</span>    stakes = sdgen.<a class="code hl_function" href="../../da/d55/classstake__distribution__generator.html#aa118b134d691fb6392ec512bd3c01fa8">sample_exponential_stake</a> (n, param1);</div>
<div class="line"><span class="lineno">   71</span>  }</div>
<div class="line"><span class="lineno">   72</span> </div>
<div class="line"><span class="lineno">   73</span>  <span class="comment">// test uniform distribution</span></div>
<div class="line"><span class="lineno">   74</span>  <span class="keywordflow">if</span> (flags &amp; <a class="code hl_define" href="../../d1/dde/read__args_8h.html#a052b1f0ea227e348170e9763a4a3711e">RAND_UNIF_RAND_SND_DIST</a>)</div>
<div class="line"><span class="lineno">   75</span>  {</div>
<div class="line"><span class="lineno">   76</span>    stakes = sdgen.<a class="code hl_function" href="../../da/d55/classstake__distribution__generator.html#a7ea2cb646581cf3bae6388cb3f712ef3">sample_uniform_stake</a> (n, 0, param1);</div>
<div class="line"><span class="lineno">   77</span>  }</div>
<div class="line"><span class="lineno">   78</span> </div>
<div class="line"><span class="lineno">   79</span>  <span class="comment">// test geometric distribution</span></div>
<div class="line"><span class="lineno">   80</span>  <span class="keywordflow">if</span> (flags &amp; <a class="code hl_define" href="../../d1/dde/read__args_8h.html#a0b0c83f7efead5d88d027589476794a5">RAND_GEOM_RAND_SND_DIST</a>)</div>
<div class="line"><span class="lineno">   81</span>  {</div>
<div class="line"><span class="lineno">   82</span>    stakes = sdgen.<a class="code hl_function" href="../../da/d55/classstake__distribution__generator.html#ae268154266dd8211b2d0aa95572b174e">sample_geometric_stake</a> (n, param1);</div>
<div class="line"><span class="lineno">   83</span>  }</div>
<div class="line"><span class="lineno">   84</span> </div>
<div class="line"><span class="lineno">   85</span>  <span class="comment">/*if (flags &amp; (0b1000 &lt;&lt; 16))</span></div>
<div class="line"><span class="lineno">   86</span><span class="comment">  {</span></div>
<div class="line"><span class="lineno">   87</span><span class="comment">  // std::vector&lt;stake_t&gt; stakes =</span></div>
<div class="line"><span class="lineno">   88</span><span class="comment">  //   read_stake_distribution_file (&quot;stake_distributions/0.stakes&quot;);</span></div>
<div class="line"><span class="lineno">   89</span><span class="comment">    sdgen.add_to_stake_distribution(stakes,1);</span></div>
<div class="line"><span class="lineno">   90</span><span class="comment"></span> </div>
<div class="line"><span class="lineno">   91</span><span class="comment">    // std::cout &lt;&lt; &quot;total stake: &quot; &lt;&lt; total_stake &lt;&lt; std::endl;</span></div>
<div class="line"><span class="lineno">   92</span><span class="comment">    succeeded = succeeded &amp;&amp; test_stake_distribution (stakes);</span></div>
<div class="line"><span class="lineno">   93</span><span class="comment">    }*/</span></div>
<div class="line"><span class="lineno">   94</span> </div>
<div class="line"><span class="lineno">   95</span>  <span class="keywordflow">if</span> (flags</div>
<div class="line"><span class="lineno">   96</span>      &amp; (<a class="code hl_define" href="../../d1/dde/read__args_8h.html#a94f39ba3e08874d0c8660a5f505f973f">RAND_EXP_RAND_SND_DIST</a> | <a class="code hl_define" href="../../d1/dde/read__args_8h.html#a052b1f0ea227e348170e9763a4a3711e">RAND_UNIF_RAND_SND_DIST</a></div>
<div class="line"><span class="lineno">   97</span>         | <a class="code hl_define" href="../../d1/dde/read__args_8h.html#a0b0c83f7efead5d88d027589476794a5">RAND_GEOM_RAND_SND_DIST</a>))</div>
<div class="line"><span class="lineno">   98</span>  {</div>
<div class="line"><span class="lineno">   99</span>    sdgen.<a class="code hl_function" href="../../da/d55/classstake__distribution__generator.html#a3bc8bc85a9a0696fa5e28a160084cf52">add_to_stake_distribution</a> (stakes, 1);</div>
<div class="line"><span class="lineno">  100</span>  }</div>
<div class="line"><span class="lineno">  101</span> </div>
<div class="line"><span class="lineno">  102</span>  <span class="keywordflow">if</span> (<a class="code hl_define" href="../../d0/d70/yal__log_8h.html#a2ba8ef212269f3b316ba6a1a7d7d968d">__yal_logging</a> (<a class="code hl_define" href="../../d0/d70/yal__log_8h.html#aa60136c17617acba656334cdac4db9f6">__YAL_INFO</a>))</div>
<div class="line"><span class="lineno">  103</span>  {</div>
<div class="line"><span class="lineno">  104</span>    <a class="code hl_define" href="../../d0/d70/yal__log_8h.html#aa1a44fc89acffe0e9ceb68840e2516b9">__yal_log</a> (<a class="code hl_define" href="../../d0/d70/yal__log_8h.html#aa60136c17617acba656334cdac4db9f6">__YAL_INFO</a>,</div>
<div class="line"><span class="lineno">  105</span>               <span class="stringliteral">&quot;&lt;main_utils.cc:generate_stake_distribution return&gt;:\n&quot;</span>);</div>
<div class="line"><span class="lineno">  106</span>    <a class="code hl_typedef" href="../../d9/d49/types_8h.html#a9d08d501a63aaa3f54930ebf35037298">stake_t</a> total_stake = 0;</div>
<div class="line"><span class="lineno">  107</span>    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; n; i++)</div>
<div class="line"><span class="lineno">  108</span>    {</div>
<div class="line"><span class="lineno">  109</span>      total_stake += stakes[i];</div>
<div class="line"><span class="lineno">  110</span>    }</div>
<div class="line"><span class="lineno">  111</span> </div>
<div class="line"><span class="lineno">  112</span>    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; n; i++)</div>
<div class="line"><span class="lineno">  113</span>    {</div>
<div class="line"><span class="lineno">  114</span>      <a class="code hl_define" href="../../d0/d70/yal__log_8h.html#aa1a44fc89acffe0e9ceb68840e2516b9">__yal_log</a> (</div>
<div class="line"><span class="lineno">  115</span>        <a class="code hl_define" href="../../d0/d70/yal__log_8h.html#aa60136c17617acba656334cdac4db9f6">__YAL_INFO</a>,</div>
<div class="line"><span class="lineno">  116</span>        <span class="stringliteral">&quot;\t party (stake; fraction of total stake): %lu\t (%lu; %lf)\n&quot;</span>,</div>
<div class="line"><span class="lineno">  117</span>        i,</div>
<div class="line"><span class="lineno">  118</span>        stakes[i],</div>
<div class="line"><span class="lineno">  119</span>        ((<span class="keywordtype">double</span>) stakes[i]) / ((<span class="keywordtype">double</span>) total_stake));</div>
<div class="line"><span class="lineno">  120</span>    }</div>
<div class="line"><span class="lineno">  121</span>  }</div>
<div class="line"><span class="lineno">  122</span> </div>
<div class="line"><span class="lineno">  123</span>  <span class="keywordflow">return</span> stakes;</div>
<div class="line"><span class="lineno">  124</span>}</div>
<div class="ttc" id="aclassstake__distribution__generator_html"><div class="ttname"><a href="../../da/d55/classstake__distribution__generator.html">stake_distribution_generator</a></div><div class="ttdoc">Class for generating stake distributions.</div><div class="ttdef"><b>Definition:</b> generate_stake_distribution.h:22</div></div>
<div class="ttc" id="aclassstake__distribution__generator_html_a0adac7b42eefa5f4ba734955f104030d"><div class="ttname"><a href="../../da/d55/classstake__distribution__generator.html#a0adac7b42eefa5f4ba734955f104030d">stake_distribution_generator::few_fat_thin_stake</a></div><div class="ttdeci">std::vector&lt; stake_t &gt; few_fat_thin_stake(party_t nr_parties, double rich_poor_ratio, size_t nr_rich)</div><div class="ttdoc">Generates a few fat stake distribution with the given parameters, and where the sender is the thinnes...</div></div>
<div class="ttc" id="aclassstake__distribution__generator_html_a3bc8bc85a9a0696fa5e28a160084cf52"><div class="ttname"><a href="../../da/d55/classstake__distribution__generator.html#a3bc8bc85a9a0696fa5e28a160084cf52">stake_distribution_generator::add_to_stake_distribution</a></div><div class="ttdeci">void add_to_stake_distribution(std::vector&lt; stake_t &gt; &amp;stakes, stake_t v)</div><div class="ttdoc">Adds, for each party in the stake distribution, &lt;parameter v&gt; additional stake.</div></div>
<div class="ttc" id="aclassstake__distribution__generator_html_a4cd5971c4b30a302ace9153acde41598"><div class="ttname"><a href="../../da/d55/classstake__distribution__generator.html#a4cd5971c4b30a302ace9153acde41598">stake_distribution_generator::few_fat_fat_stake</a></div><div class="ttdeci">std::vector&lt; stake_t &gt; few_fat_fat_stake(party_t nr_parties, double rich_poor_ratio, size_t nr_rich)</div><div class="ttdoc">Generates a few fat stake distribution with the given parameters, and where the sender is the fattest...</div></div>
<div class="ttc" id="aclassstake__distribution__generator_html_a5c9f7952feefe35ca261e18fa89e5677"><div class="ttname"><a href="../../da/d55/classstake__distribution__generator.html#a5c9f7952feefe35ca261e18fa89e5677">stake_distribution_generator::exponential_fattest_stake</a></div><div class="ttdeci">std::vector&lt; stake_t &gt; exponential_fattest_stake(party_t nr_parties, double richest_poorest_ratio)</div><div class="ttdoc">Generates an exponential stake distribution with the given parameters, and where the sender is the fa...</div></div>
<div class="ttc" id="aclassstake__distribution__generator_html_a7ea2cb646581cf3bae6388cb3f712ef3"><div class="ttname"><a href="../../da/d55/classstake__distribution__generator.html#a7ea2cb646581cf3bae6388cb3f712ef3">stake_distribution_generator::sample_uniform_stake</a></div><div class="ttdeci">std::vector&lt; stake_t &gt; sample_uniform_stake(party_t nr_parties, stake_t lower_bound=0, stake_t upper_bound=1000000)</div><div class="ttdoc">Generates a stake distribution with the given number of parties, where the stake of each party is pic...</div></div>
<div class="ttc" id="aclassstake__distribution__generator_html_a7f6c4913d46b461e23e4c59c75c4f99c"><div class="ttname"><a href="../../da/d55/classstake__distribution__generator.html#a7f6c4913d46b461e23e4c59c75c4f99c">stake_distribution_generator::exponential_median_stake</a></div><div class="ttdeci">std::vector&lt; stake_t &gt; exponential_median_stake(party_t nr_parties, double richest_poorest_ratio)</div><div class="ttdoc">Generates an exponential stake distribution with the given parameters, and where the sender is the pa...</div></div>
<div class="ttc" id="aclassstake__distribution__generator_html_aa118b134d691fb6392ec512bd3c01fa8"><div class="ttname"><a href="../../da/d55/classstake__distribution__generator.html#aa118b134d691fb6392ec512bd3c01fa8">stake_distribution_generator::sample_exponential_stake</a></div><div class="ttdeci">std::vector&lt; stake_t &gt; sample_exponential_stake(party_t nr_parties, double lambda=0.001)</div><div class="ttdoc">Generates a stake distribution with the given number of parties, where the stake of each party is pic...</div></div>
<div class="ttc" id="aclassstake__distribution__generator_html_ae268154266dd8211b2d0aa95572b174e"><div class="ttname"><a href="../../da/d55/classstake__distribution__generator.html#ae268154266dd8211b2d0aa95572b174e">stake_distribution_generator::sample_geometric_stake</a></div><div class="ttdeci">std::vector&lt; stake_t &gt; sample_geometric_stake(party_t nr_parties, double p=0.5)</div><div class="ttdoc">Generates a stake distribution with the given number of parties, where the stake of each party is pic...</div></div>
<div class="ttc" id="aclassstake__distribution__generator_html_af5c65ab784b15f01894e7130cc0bb661"><div class="ttname"><a href="../../da/d55/classstake__distribution__generator.html#af5c65ab784b15f01894e7130cc0bb661">stake_distribution_generator::constant_stake</a></div><div class="ttdeci">std::vector&lt; stake_t &gt; constant_stake(party_t nr_parties, stake_t s=100)</div><div class="ttdoc">Generates a constant stake distribution with the given parameters.</div></div>
<div class="ttc" id="aclassstake__distribution__generator_html_afb11a0731fa642877492417f211a10c1"><div class="ttname"><a href="../../da/d55/classstake__distribution__generator.html#afb11a0731fa642877492417f211a10c1">stake_distribution_generator::exponential_thinnest_stake</a></div><div class="ttdeci">std::vector&lt; stake_t &gt; exponential_thinnest_stake(party_t nr_parties, double richest_poorest_ratio)</div><div class="ttdoc">Generates an exponential stake distribution with the given parameters, and where the sender is the th...</div></div>
<div class="ttc" id="aread__args_8h_html_a052b1f0ea227e348170e9763a4a3711e"><div class="ttname"><a href="../../d1/dde/read__args_8h.html#a052b1f0ea227e348170e9763a4a3711e">RAND_UNIF_RAND_SND_DIST</a></div><div class="ttdeci">#define RAND_UNIF_RAND_SND_DIST</div><div class="ttdef"><b>Definition:</b> read_args.h:22</div></div>
<div class="ttc" id="aread__args_8h_html_a0b0c83f7efead5d88d027589476794a5"><div class="ttname"><a href="../../d1/dde/read__args_8h.html#a0b0c83f7efead5d88d027589476794a5">RAND_GEOM_RAND_SND_DIST</a></div><div class="ttdeci">#define RAND_GEOM_RAND_SND_DIST</div><div class="ttdef"><b>Definition:</b> read_args.h:23</div></div>
<div class="ttc" id="aread__args_8h_html_a23858f91d0a8d9511f744532e903fd50"><div class="ttname"><a href="../../d1/dde/read__args_8h.html#a23858f91d0a8d9511f744532e903fd50">DET_CONST_DIST</a></div><div class="ttdeci">#define DET_CONST_DIST</div><div class="ttdef"><b>Definition:</b> read_args.h:15</div></div>
<div class="ttc" id="aread__args_8h_html_a94f39ba3e08874d0c8660a5f505f973f"><div class="ttname"><a href="../../d1/dde/read__args_8h.html#a94f39ba3e08874d0c8660a5f505f973f">RAND_EXP_RAND_SND_DIST</a></div><div class="ttdeci">#define RAND_EXP_RAND_SND_DIST</div><div class="ttdef"><b>Definition:</b> read_args.h:21</div></div>
<div class="ttc" id="aread__args_8h_html_abe3b3c7241737a002e9cbd83652ccb1b"><div class="ttname"><a href="../../d1/dde/read__args_8h.html#abe3b3c7241737a002e9cbd83652ccb1b">DET_FF_THIN_DIST</a></div><div class="ttdeci">#define DET_FF_THIN_DIST</div><div class="ttdef"><b>Definition:</b> read_args.h:16</div></div>
<div class="ttc" id="aread__args_8h_html_ac43d86c906b6eb49b04f478fb6c40a0a"><div class="ttname"><a href="../../d1/dde/read__args_8h.html#ac43d86c906b6eb49b04f478fb6c40a0a">DET_FF_FAT_DIST</a></div><div class="ttdeci">#define DET_FF_FAT_DIST</div><div class="ttdef"><b>Definition:</b> read_args.h:17</div></div>
<div class="ttc" id="aread__args_8h_html_ad6004b5996171ba06a9e54f26dae22e2"><div class="ttname"><a href="../../d1/dde/read__args_8h.html#ad6004b5996171ba06a9e54f26dae22e2">DET_EXP_FAT_DIST</a></div><div class="ttdeci">#define DET_EXP_FAT_DIST</div><div class="ttdef"><b>Definition:</b> read_args.h:20</div></div>
<div class="ttc" id="aread__args_8h_html_aeca7078ed65b8e3a4f00180fd7380f17"><div class="ttname"><a href="../../d1/dde/read__args_8h.html#aeca7078ed65b8e3a4f00180fd7380f17">DET_EXP_THIN_DIST</a></div><div class="ttdeci">#define DET_EXP_THIN_DIST</div><div class="ttdef"><b>Definition:</b> read_args.h:18</div></div>
<div class="ttc" id="aread__args_8h_html_af6e0cc51561c30ecdeb804889971d16a"><div class="ttname"><a href="../../d1/dde/read__args_8h.html#af6e0cc51561c30ecdeb804889971d16a">DET_EXP_MEDN_DIST</a></div><div class="ttdeci">#define DET_EXP_MEDN_DIST</div><div class="ttdef"><b>Definition:</b> read_args.h:19</div></div>
<div class="ttc" id="atypes_8h_html_a9d08d501a63aaa3f54930ebf35037298"><div class="ttname"><a href="../../d9/d49/types_8h.html#a9d08d501a63aaa3f54930ebf35037298">stake_t</a></div><div class="ttdeci">unsigned long int stake_t</div><div class="ttdef"><b>Definition:</b> types.h:14</div></div>
<div class="ttc" id="ayal__log_8h_html_a2ba8ef212269f3b316ba6a1a7d7d968d"><div class="ttname"><a href="../../d0/d70/yal__log_8h.html#a2ba8ef212269f3b316ba6a1a7d7d968d">__yal_logging</a></div><div class="ttdeci">#define __yal_logging(lvl)</div><div class="ttdef"><b>Definition:</b> yal_log.h:46</div></div>
<div class="ttc" id="ayal__log_8h_html_aa1a44fc89acffe0e9ceb68840e2516b9"><div class="ttname"><a href="../../d0/d70/yal__log_8h.html#aa1a44fc89acffe0e9ceb68840e2516b9">__yal_log</a></div><div class="ttdeci">#define __yal_log(...)</div><div class="ttdef"><b>Definition:</b> yal_log.h:47</div></div>
<div class="ttc" id="ayal__log_8h_html_aa60136c17617acba656334cdac4db9f6"><div class="ttname"><a href="../../d0/d70/yal__log_8h.html#aa60136c17617acba656334cdac4db9f6">__YAL_INFO</a></div><div class="ttdeci">#define __YAL_INFO</div><div class="ttdef"><b>Definition:</b> yal_log.h:34</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00034">__YAL_INFO</a>, <a class="el" href="../../#l00047">__yal_log</a>, <a class="el" href="../../#l00046">__yal_logging</a>, <a class="el" href="../../da/d55/classstake__distribution__generator.html#a3bc8bc85a9a0696fa5e28a160084cf52">stake_distribution_generator::add_to_stake_distribution()</a>, <a class="el" href="../../da/d55/classstake__distribution__generator.html#af5c65ab784b15f01894e7130cc0bb661">stake_distribution_generator::constant_stake()</a>, <a class="el" href="../../#l00015">DET_CONST_DIST</a>, <a class="el" href="../../#l00020">DET_EXP_FAT_DIST</a>, <a class="el" href="../../#l00019">DET_EXP_MEDN_DIST</a>, <a class="el" href="../../#l00018">DET_EXP_THIN_DIST</a>, <a class="el" href="../../#l00017">DET_FF_FAT_DIST</a>, <a class="el" href="../../#l00016">DET_FF_THIN_DIST</a>, <a class="el" href="../../da/d55/classstake__distribution__generator.html#a5c9f7952feefe35ca261e18fa89e5677">stake_distribution_generator::exponential_fattest_stake()</a>, <a class="el" href="../../da/d55/classstake__distribution__generator.html#a7f6c4913d46b461e23e4c59c75c4f99c">stake_distribution_generator::exponential_median_stake()</a>, <a class="el" href="../../da/d55/classstake__distribution__generator.html#afb11a0731fa642877492417f211a10c1">stake_distribution_generator::exponential_thinnest_stake()</a>, <a class="el" href="../../da/d55/classstake__distribution__generator.html#a4cd5971c4b30a302ace9153acde41598">stake_distribution_generator::few_fat_fat_stake()</a>, <a class="el" href="../../da/d55/classstake__distribution__generator.html#a0adac7b42eefa5f4ba734955f104030d">stake_distribution_generator::few_fat_thin_stake()</a>, <a class="el" href="../../#l00021">RAND_EXP_RAND_SND_DIST</a>, <a class="el" href="../../#l00023">RAND_GEOM_RAND_SND_DIST</a>, <a class="el" href="../../#l00022">RAND_UNIF_RAND_SND_DIST</a>, <a class="el" href="../../da/d55/classstake__distribution__generator.html#aa118b134d691fb6392ec512bd3c01fa8">stake_distribution_generator::sample_exponential_stake()</a>, <a class="el" href="../../da/d55/classstake__distribution__generator.html#ae268154266dd8211b2d0aa95572b174e">stake_distribution_generator::sample_geometric_stake()</a>, and <a class="el" href="../../da/d55/classstake__distribution__generator.html#a7ea2cb646581cf3bae6388cb3f712ef3">stake_distribution_generator::sample_uniform_stake()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00255">plot()</a>, <a class="el" href="../../#l00543">plot_graph_6()</a>, and <a class="el" href="../../#l00298">run_tests()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../df/d31/main__utils_8cc_a3201d4e5bc0eff5d7dd5c0993b5aaa34_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../df/d31/main__utils_8cc_a3201d4e5bc0eff5d7dd5c0993b5aaa34_icgraph.svg" width="538" height="147"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a17e1a5d2f144555f81b2bed8a6ca7cd4" name="a17e1a5d2f144555f81b2bed8a6ca7cd4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a17e1a5d2f144555f81b2bed8a6ca7cd4">&#9670;&nbsp;</a></span>get_corrupted_parties()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="../../d9/d49/types_8h.html#ab7662475b458e14534004c28ee68aebb">corruption_t</a> &gt; get_corrupted_parties </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; <a class="el" href="../../d9/d49/types_8h.html#a9d08d501a63aaa3f54930ebf35037298">stake_t</a> &gt;&#160;</td>
          <td class="paramname"><em>stakes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::set&lt; <a class="el" href="../../d9/d49/types_8h.html#a82187f179e537bebf2170deb85c3d6a8">party_t</a> &gt;&#160;</td>
          <td class="paramname"><em>honest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/d49/types_8h.html#ab7662475b458e14534004c28ee68aebb">corruption_t</a>&#160;</td>
          <td class="paramname"><em>corruption_strategy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>corruption_threshold</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generates a corruption set. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">the</td><td>stake distribution. </td></tr>
    <tr><td class="paramname">a</td><td>set of parties that cannot be corrupted. </td></tr>
    <tr><td class="paramname">the</td><td>corruption strategy. </td></tr>
    <tr><td class="paramname">fraction</td><td>of stake that can be corrupted. </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><span class="lineno">  131</span>{</div>
<div class="line"><span class="lineno">  132</span>  <a class="code hl_define" href="../../d0/d70/yal__log_8h.html#aa1a44fc89acffe0e9ceb68840e2516b9">__yal_log</a> (<a class="code hl_define" href="../../d0/d70/yal__log_8h.html#aa60136c17617acba656334cdac4db9f6">__YAL_INFO</a>,</div>
<div class="line"><span class="lineno">  133</span>             <span class="stringliteral">&quot;&lt;main_utils.cc:get_corrupted_parties(%lu,%lu,%lu,%lf)&gt;\n&quot;</span>,</div>
<div class="line"><span class="lineno">  134</span>             stakes.size (),</div>
<div class="line"><span class="lineno">  135</span>             honest.size (),</div>
<div class="line"><span class="lineno">  136</span>             corruption_strategy,</div>
<div class="line"><span class="lineno">  137</span>             corruption_threshold);</div>
<div class="line"><span class="lineno">  138</span> </div>
<div class="line"><span class="lineno">  139</span>  std::vector&lt;corruption_t&gt; corruptions;</div>
<div class="line"><span class="lineno">  140</span> </div>
<div class="line"><span class="lineno">  141</span>  <span class="keywordflow">switch</span> (corruption_strategy)</div>
<div class="line"><span class="lineno">  142</span>  {</div>
<div class="line"><span class="lineno">  143</span>    <span class="keywordflow">case</span> <a class="code hl_define" href="../../d1/dde/read__args_8h.html#a0d026ad35bcf855be09ecdd5d7f94bc3">CORR_RAND</a>:    <span class="comment">// corrupt parties randomly</span></div>
<div class="line"><span class="lineno">  144</span>      corruptions = <a class="code hl_function" href="../../d8/de7/corruptions__stake__protocol__simulator_8h.html#a0d8920b86a4be8609c9322366f4e65aa">corrupt_parties_by_stake</a> (</div>
<div class="line"><span class="lineno">  145</span>        stakes,</div>
<div class="line"><span class="lineno">  146</span>        honest,</div>
<div class="line"><span class="lineno">  147</span>        corruption_threshold,</div>
<div class="line"><span class="lineno">  148</span>        [] (std::vector&lt;std::pair&lt;party_t, stake_t&gt;&gt; &amp;v) {</div>
<div class="line"><span class="lineno">  149</span>          std::mt19937_64 *g = <a class="code hl_function" href="../../d6/d74/random__utils_8h.html#a1a5ba40472fce10bb1af5db44829b97b">get_random_generator</a> ();</div>
<div class="line"><span class="lineno">  150</span>          std::shuffle (v.begin (), v.end (), *g);</div>
<div class="line"><span class="lineno">  151</span>        });</div>
<div class="line"><span class="lineno">  152</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  153</span> </div>
<div class="line"><span class="lineno">  154</span>    <span class="keywordflow">case</span> <a class="code hl_define" href="../../d1/dde/read__args_8h.html#a10099c8d45446b1142928924f3f2923b">CORR_RICH_FIRST</a>:    <span class="comment">// corrupt rich first</span></div>
<div class="line"><span class="lineno">  155</span>      corruptions = <a class="code hl_function" href="../../d8/de7/corruptions__stake__protocol__simulator_8h.html#a0d8920b86a4be8609c9322366f4e65aa">corrupt_parties_by_stake</a> (</div>
<div class="line"><span class="lineno">  156</span>        stakes,</div>
<div class="line"><span class="lineno">  157</span>        honest,</div>
<div class="line"><span class="lineno">  158</span>        corruption_threshold,</div>
<div class="line"><span class="lineno">  159</span>        [] (std::vector&lt;std::pair&lt;party_t, stake_t&gt;&gt; &amp;v) {</div>
<div class="line"><span class="lineno">  160</span>          std::sort (v.begin (),</div>
<div class="line"><span class="lineno">  161</span>                     v.end (),</div>
<div class="line"><span class="lineno">  162</span>                     [] (std::pair&lt;party_t, stake_t&gt; ls,</div>
<div class="line"><span class="lineno">  163</span>                         std::pair&lt;party_t, stake_t&gt; rs) {</div>
<div class="line"><span class="lineno">  164</span>                       return std::get&lt;1&gt; (ls) &gt; std::get&lt;1&gt; (rs);</div>
<div class="line"><span class="lineno">  165</span>                     });</div>
<div class="line"><span class="lineno">  166</span>        });</div>
<div class="line"><span class="lineno">  167</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  168</span> </div>
<div class="line"><span class="lineno">  169</span>    <span class="keywordflow">case</span> <a class="code hl_define" href="../../d1/dde/read__args_8h.html#a610f5f9eddf60cacb3168e3bf1687491">CORR_POOR_FIRST</a>:    <span class="comment">// corrupt poor first</span></div>
<div class="line"><span class="lineno">  170</span>      corruptions = <a class="code hl_function" href="../../d8/de7/corruptions__stake__protocol__simulator_8h.html#a0d8920b86a4be8609c9322366f4e65aa">corrupt_parties_by_stake</a> (</div>
<div class="line"><span class="lineno">  171</span>        stakes,</div>
<div class="line"><span class="lineno">  172</span>        honest,</div>
<div class="line"><span class="lineno">  173</span>        corruption_threshold,</div>
<div class="line"><span class="lineno">  174</span>        [] (std::vector&lt;std::pair&lt;party_t, stake_t&gt;&gt; &amp;v) {</div>
<div class="line"><span class="lineno">  175</span>          std::sort (v.begin (),</div>
<div class="line"><span class="lineno">  176</span>                     v.end (),</div>
<div class="line"><span class="lineno">  177</span>                     [] (std::pair&lt;party_t, stake_t&gt; ls,</div>
<div class="line"><span class="lineno">  178</span>                         std::pair&lt;party_t, stake_t&gt; rs) {</div>
<div class="line"><span class="lineno">  179</span>                       return std::get&lt;1&gt; (ls) &lt; std::get&lt;1&gt; (rs);</div>
<div class="line"><span class="lineno">  180</span>                     });</div>
<div class="line"><span class="lineno">  181</span>        });</div>
<div class="line"><span class="lineno">  182</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  183</span> </div>
<div class="line"><span class="lineno">  184</span>    <span class="keywordflow">case</span> <a class="code hl_define" href="../../d1/dde/read__args_8h.html#ad145ca448e147deea4a9998dece81591">NO_CORR</a>:</div>
<div class="line"><span class="lineno">  185</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">  186</span>      corruptions = std::vector&lt;corruption_t&gt; (stakes.size (), 0);</div>
<div class="line"><span class="lineno">  187</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  188</span>  }</div>
<div class="line"><span class="lineno">  189</span> </div>
<div class="line"><span class="lineno">  190</span>  <span class="keywordflow">if</span> (<a class="code hl_define" href="../../d0/d70/yal__log_8h.html#a2ba8ef212269f3b316ba6a1a7d7d968d">__yal_logging</a> (<a class="code hl_define" href="../../d0/d70/yal__log_8h.html#a870278a657e74435d62684501c208d39">__YAL_DBG</a>))    <span class="comment">// if logging is on, print information about</span></div>
<div class="line"><span class="lineno">  191</span>                                    <span class="comment">// the corruption set</span></div>
<div class="line"><span class="lineno">  192</span>  {</div>
<div class="line"><span class="lineno">  193</span>    <span class="keywordtype">size_t</span>  corr_parties = 0;</div>
<div class="line"><span class="lineno">  194</span>    <a class="code hl_typedef" href="../../d9/d49/types_8h.html#a9d08d501a63aaa3f54930ebf35037298">stake_t</a> corr_stake   = 0;</div>
<div class="line"><span class="lineno">  195</span>    <span class="keywordtype">size_t</span>  n            = stakes.size ();</div>
<div class="line"><span class="lineno">  196</span>    <a class="code hl_typedef" href="../../d9/d49/types_8h.html#a9d08d501a63aaa3f54930ebf35037298">stake_t</a> total_stake  = 0;</div>
<div class="line"><span class="lineno">  197</span>    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; n; i++)</div>
<div class="line"><span class="lineno">  198</span>    {</div>
<div class="line"><span class="lineno">  199</span>      total_stake += stakes[i];</div>
<div class="line"><span class="lineno">  200</span>    }</div>
<div class="line"><span class="lineno">  201</span> </div>
<div class="line"><span class="lineno">  202</span>    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; n; i++)</div>
<div class="line"><span class="lineno">  203</span>    {</div>
<div class="line"><span class="lineno">  204</span>      corr_stake += corruptions[i] ? stakes[i] : 0;</div>
<div class="line"><span class="lineno">  205</span>      corr_parties += !!(corruptions[i]);</div>
<div class="line"><span class="lineno">  206</span>      <a class="code hl_define" href="../../d0/d70/yal__log_8h.html#aa1a44fc89acffe0e9ceb68840e2516b9">__yal_log</a> (<a class="code hl_define" href="../../d0/d70/yal__log_8h.html#a870278a657e74435d62684501c208d39">__YAL_DBG</a>, <span class="stringliteral">&quot;&lt;main_utils.cc:get_corrupted_parties return:&gt;\n&quot;</span>);</div>
<div class="line"><span class="lineno">  207</span> </div>
<div class="line"><span class="lineno">  208</span>      <a class="code hl_define" href="../../d0/d70/yal__log_8h.html#aa1a44fc89acffe0e9ceb68840e2516b9">__yal_log</a> (</div>
<div class="line"><span class="lineno">  209</span>        <a class="code hl_define" href="../../d0/d70/yal__log_8h.html#a870278a657e74435d62684501c208d39">__YAL_DBG</a>,</div>
<div class="line"><span class="lineno">  210</span>        <span class="stringliteral">&quot;party (stake; fraction of total stake): %lu\t (%lu; %lf): %d\n&quot;</span>,</div>
<div class="line"><span class="lineno">  211</span>        i,</div>
<div class="line"><span class="lineno">  212</span>        stakes[i],</div>
<div class="line"><span class="lineno">  213</span>        ((<span class="keywordtype">double</span>) stakes[i]) / ((<span class="keywordtype">double</span>) total_stake),</div>
<div class="line"><span class="lineno">  214</span>        !!(corruptions[i]));</div>
<div class="line"><span class="lineno">  215</span>    }</div>
<div class="line"><span class="lineno">  216</span> </div>
<div class="line"><span class="lineno">  217</span>    <a class="code hl_define" href="../../d0/d70/yal__log_8h.html#aa1a44fc89acffe0e9ceb68840e2516b9">__yal_log</a> (<a class="code hl_define" href="../../d0/d70/yal__log_8h.html#a870278a657e74435d62684501c208d39">__YAL_DBG</a>, <span class="stringliteral">&quot;Corruption threshold: %lf\n&quot;</span>, corruption_threshold);</div>
<div class="line"><span class="lineno">  218</span>    <a class="code hl_define" href="../../d0/d70/yal__log_8h.html#aa1a44fc89acffe0e9ceb68840e2516b9">__yal_log</a> (<a class="code hl_define" href="../../d0/d70/yal__log_8h.html#a870278a657e74435d62684501c208d39">__YAL_DBG</a>, <span class="stringliteral">&quot;Number of parties: %lu\n&quot;</span>, n);</div>
<div class="line"><span class="lineno">  219</span>    <a class="code hl_define" href="../../d0/d70/yal__log_8h.html#aa1a44fc89acffe0e9ceb68840e2516b9">__yal_log</a> (<a class="code hl_define" href="../../d0/d70/yal__log_8h.html#a870278a657e74435d62684501c208d39">__YAL_DBG</a>, <span class="stringliteral">&quot;Total stake: %lu\n&quot;</span>, total_stake);</div>
<div class="line"><span class="lineno">  220</span>    <a class="code hl_define" href="../../d0/d70/yal__log_8h.html#aa1a44fc89acffe0e9ceb68840e2516b9">__yal_log</a> (<a class="code hl_define" href="../../d0/d70/yal__log_8h.html#a870278a657e74435d62684501c208d39">__YAL_DBG</a>, <span class="stringliteral">&quot;Dishonest stake: %lu\n&quot;</span>, corr_stake);</div>
<div class="line"><span class="lineno">  221</span>  }</div>
<div class="line"><span class="lineno">  222</span> </div>
<div class="line"><span class="lineno">  223</span>  <span class="keywordflow">return</span> corruptions;</div>
<div class="line"><span class="lineno">  224</span>}</div>
<div class="ttc" id="acorruptions__stake__protocol__simulator_8h_html_a0d8920b86a4be8609c9322366f4e65aa"><div class="ttname"><a href="../../d8/de7/corruptions__stake__protocol__simulator_8h.html#a0d8920b86a4be8609c9322366f4e65aa">corrupt_parties_by_stake</a></div><div class="ttdeci">std::vector&lt; corruption_t &gt; corrupt_parties_by_stake(std::vector&lt; stake_t &gt; stakes, std::set&lt; party_t &gt; honest, double max, std::function&lt; void(std::vector&lt; std::pair&lt; party_t, stake_t &gt; &gt; &amp;)&gt; sort)</div><div class="ttdoc">Outputs a vector of corruption flags for the given stake distribution, and taking into account the pa...</div></div>
<div class="ttc" id="arandom__utils_8h_html_a1a5ba40472fce10bb1af5db44829b97b"><div class="ttname"><a href="../../d6/d74/random__utils_8h.html#a1a5ba40472fce10bb1af5db44829b97b">get_random_generator</a></div><div class="ttdeci">std::mt19937_64 * get_random_generator()</div><div class="ttdoc">Generates a new random generator with a fresh seed.</div></div>
<div class="ttc" id="aread__args_8h_html_a0d026ad35bcf855be09ecdd5d7f94bc3"><div class="ttname"><a href="../../d1/dde/read__args_8h.html#a0d026ad35bcf855be09ecdd5d7f94bc3">CORR_RAND</a></div><div class="ttdeci">#define CORR_RAND</div><div class="ttdef"><b>Definition:</b> read_args.h:30</div></div>
<div class="ttc" id="aread__args_8h_html_a10099c8d45446b1142928924f3f2923b"><div class="ttname"><a href="../../d1/dde/read__args_8h.html#a10099c8d45446b1142928924f3f2923b">CORR_RICH_FIRST</a></div><div class="ttdeci">#define CORR_RICH_FIRST</div><div class="ttdef"><b>Definition:</b> read_args.h:31</div></div>
<div class="ttc" id="aread__args_8h_html_a610f5f9eddf60cacb3168e3bf1687491"><div class="ttname"><a href="../../d1/dde/read__args_8h.html#a610f5f9eddf60cacb3168e3bf1687491">CORR_POOR_FIRST</a></div><div class="ttdeci">#define CORR_POOR_FIRST</div><div class="ttdef"><b>Definition:</b> read_args.h:32</div></div>
<div class="ttc" id="aread__args_8h_html_ad145ca448e147deea4a9998dece81591"><div class="ttname"><a href="../../d1/dde/read__args_8h.html#ad145ca448e147deea4a9998dece81591">NO_CORR</a></div><div class="ttdeci">#define NO_CORR</div><div class="ttdef"><b>Definition:</b> read_args.h:29</div></div>
<div class="ttc" id="ayal__log_8h_html_a870278a657e74435d62684501c208d39"><div class="ttname"><a href="../../d0/d70/yal__log_8h.html#a870278a657e74435d62684501c208d39">__YAL_DBG</a></div><div class="ttdeci">#define __YAL_DBG</div><div class="ttdef"><b>Definition:</b> yal_log.h:33</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00033">__YAL_DBG</a>, <a class="el" href="../../#l00034">__YAL_INFO</a>, <a class="el" href="../../#l00047">__yal_log</a>, <a class="el" href="../../#l00046">__yal_logging</a>, <a class="el" href="../../#l00032">CORR_POOR_FIRST</a>, <a class="el" href="../../#l00030">CORR_RAND</a>, <a class="el" href="../../#l00031">CORR_RICH_FIRST</a>, <a class="el" href="../../d8/de7/corruptions__stake__protocol__simulator_8h.html#a0d8920b86a4be8609c9322366f4e65aa">corrupt_parties_by_stake()</a>, <a class="el" href="../../d6/d74/random__utils_8h.html#a1a5ba40472fce10bb1af5db44829b97b">get_random_generator()</a>, and <a class="el" href="../../#l00029">NO_CORR</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00298">run_tests()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../df/d31/main__utils_8cc_a17e1a5d2f144555f81b2bed8a6ca7cd4_cgraph.svg" width="475" height="94"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../df/d31/main__utils_8cc_a17e1a5d2f144555f81b2bed8a6ca7cd4_icgraph.svg" width="350" height="40"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a02fd73d861ef2e4aabb38c0c9ff82947" name="a02fd73d861ef2e4aabb38c0c9ff82947"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a02fd73d861ef2e4aabb38c0c9ff82947">&#9670;&nbsp;</a></span>init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void init </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Runs initialization procedures. </p>
<div class="fragment"><div class="line"><span class="lineno">    7</span>{</div>
<div class="line"><span class="lineno">    8</span>  <a class="code hl_define" href="../../d0/d70/yal__log_8h.html#a34c71704af1fc97ea705596fb80946ca">__yal_init_logger</a> ();    <span class="comment">// initializes the logger</span></div>
<div class="line"><span class="lineno">    9</span>  <a class="code hl_define" href="../../d0/d70/yal__log_8h.html#abfd9b4aad3b35fcddff37a5eb46483d1">__yal_set_lvl_err</a> ();    <span class="comment">// sets the logging level</span></div>
<div class="line"><span class="lineno">   10</span>  <a class="code hl_function" href="../../d6/d74/random__utils_8h.html#a1d7a32b3a4c548edb7d0a4f9d98345d2">init_random_utils</a> ();    <span class="comment">// initialization of our randomness sources</span></div>
<div class="line"><span class="lineno">   11</span>}</div>
<div class="ttc" id="arandom__utils_8h_html_a1d7a32b3a4c548edb7d0a4f9d98345d2"><div class="ttname"><a href="../../d6/d74/random__utils_8h.html#a1d7a32b3a4c548edb7d0a4f9d98345d2">init_random_utils</a></div><div class="ttdeci">void init_random_utils()</div><div class="ttdoc">Initializes the randomness utility functions.</div></div>
<div class="ttc" id="ayal__log_8h_html_a34c71704af1fc97ea705596fb80946ca"><div class="ttname"><a href="../../d0/d70/yal__log_8h.html#a34c71704af1fc97ea705596fb80946ca">__yal_init_logger</a></div><div class="ttdeci">#define __yal_init_logger()</div><div class="ttdef"><b>Definition:</b> yal_log.h:15</div></div>
<div class="ttc" id="ayal__log_8h_html_abfd9b4aad3b35fcddff37a5eb46483d1"><div class="ttname"><a href="../../d0/d70/yal__log_8h.html#abfd9b4aad3b35fcddff37a5eb46483d1">__yal_set_lvl_err</a></div><div class="ttdeci">#define __yal_set_lvl_err()</div><div class="ttdef"><b>Definition:</b> yal_log.h:26</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00015">__yal_init_logger</a>, <a class="el" href="../../#l00026">__yal_set_lvl_err</a>, and <a class="el" href="../../d6/d74/random__utils_8h.html#a1d7a32b3a4c548edb7d0a4f9d98345d2">init_random_utils()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00637">main()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../df/d31/main__utils_8cc_a02fd73d861ef2e4aabb38c0c9ff82947_cgraph.svg" width="263" height="40"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../df/d31/main__utils_8cc_a02fd73d861ef2e4aabb38c0c9ff82947_icgraph.svg" width="168" height="40"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a8f4afe28d9c87b5957823f96ebe7dd48" name="a8f4afe28d9c87b5957823f96ebe7dd48"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f4afe28d9c87b5957823f96ebe7dd48">&#9670;&nbsp;</a></span>run_command_parameters()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void run_command_parameters </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>argv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>prot_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::function&lt; <a class="el" href="../../df/dcc/classcorruptions__stake__protocol__simulator.html">corruptions_stake_protocol_simulator</a> *(std::vector&lt; <a class="el" href="../../d9/d49/types_8h.html#a9d08d501a63aaa3f54930ebf35037298">stake_t</a> &gt;, <a class="el" href="../../d9/d49/types_8h.html#a9d08d501a63aaa3f54930ebf35037298">stake_t</a>, size_t)&gt;&#160;</td>
          <td class="paramname"><em>simulator_constructor</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  394</span>{</div>
<div class="line"><span class="lineno">  395</span>  <a class="code hl_define" href="../../d0/d70/yal__log_8h.html#a34c71704af1fc97ea705596fb80946ca">__yal_init_logger</a> ();</div>
<div class="line"><span class="lineno">  396</span>  <a class="code hl_define" href="../../d0/d70/yal__log_8h.html#a87103a740d52e7f53735ab475524d9ad">__yal_set_lvl_info</a> ();</div>
<div class="line"><span class="lineno">  397</span> </div>
<div class="line"><span class="lineno">  398</span>  <a class="code hl_struct" href="../../d6/da9/structsimulation__parameters__t.html">simulation_parameters_t</a> params;</div>
<div class="line"><span class="lineno">  399</span>  <span class="keywordflow">try</span></div>
<div class="line"><span class="lineno">  400</span>  {</div>
<div class="line"><span class="lineno">  401</span>    params = <a class="code hl_function" href="../../d1/dde/read__args_8h.html#a2531e6fc200c8f6d56040f8e8c9d9a4b">read_parameters</a> (argc, argv);</div>
<div class="line"><span class="lineno">  402</span>  } <span class="keywordflow">catch</span> (std::string &amp;e)</div>
<div class="line"><span class="lineno">  403</span>  {</div>
<div class="line"><span class="lineno">  404</span>    std::cout &lt;&lt; <span class="stringliteral">&quot;Something went wrong while reading command line parameters: &quot;</span></div>
<div class="line"><span class="lineno">  405</span>              &lt;&lt; e &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  406</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  407</span>  }</div>
<div class="line"><span class="lineno">  408</span> </div>
<div class="line"><span class="lineno">  409</span>  <span class="comment">//#ifdef __YAL_ON</span></div>
<div class="line"><span class="lineno">  410</span>  <a class="code hl_function" href="../../d1/dde/read__args_8h.html#a4d15e274f5db9e703aab8c9e3cecf8f4">print_parameters</a> (params);</div>
<div class="line"><span class="lineno">  411</span>  <span class="comment">//#endif    // __YAL_ON</span></div>
<div class="line"><span class="lineno">  412</span> </div>
<div class="line"><span class="lineno">  413</span>  <a class="code hl_function" href="../../d6/d74/random__utils_8h.html#a1d7a32b3a4c548edb7d0a4f9d98345d2">init_random_utils</a> ();</div>
<div class="line"><span class="lineno">  414</span> </div>
<div class="line"><span class="lineno">  415</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> to_show = params.<a class="code hl_variable" href="../../d6/da9/structsimulation__parameters__t.html#ab94e4551c8b53adde258d914058af61b">to_show</a>;</div>
<div class="line"><span class="lineno">  416</span> </div>
<div class="line"><span class="lineno">  417</span>  <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d9/d49/types_8h.html#a82187f179e537bebf2170deb85c3d6a8">party_t</a> n = params.<a class="code hl_variable" href="../../d6/da9/structsimulation__parameters__t.html#a9e47a83011545a35009a8ab6cdb5b464">min_nr_parties</a>; n &lt;= params.<a class="code hl_variable" href="../../d6/da9/structsimulation__parameters__t.html#ae95b7af7d4fb9d22bca818cfca9d9c32">max_nr_parties</a>; n *= 2)</div>
<div class="line"><span class="lineno">  418</span>  {</div>
<div class="line"><span class="lineno">  419</span>    <span class="keywordflow">if</span> ((to_show &amp; <a class="code hl_define" href="../../d1/dde/read__args_8h.html#a8109191f903863feb2813754155d8b4c">SHOW_NR_PARTIES</a>))</div>
<div class="line"><span class="lineno">  420</span>    {</div>
<div class="line"><span class="lineno">  421</span>      std::cout &lt;&lt; <span class="stringliteral">&quot;Running for &quot;</span> &lt;&lt; n &lt;&lt; <span class="stringliteral">&quot; parties&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  422</span>    }</div>
<div class="line"><span class="lineno">  423</span> </div>
<div class="line"><span class="lineno">  424</span>    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> tc = 1; tc &lt;= (1 &lt;&lt; <a class="code hl_define" href="../../d1/dde/read__args_8h.html#aa21c996aadce8ae75772cbc3b8793842">TEST_TYPES</a>); tc *= 2)</div>
<div class="line"><span class="lineno">  425</span>    {</div>
<div class="line"><span class="lineno">  426</span>      <span class="keywordflow">if</span> ((to_show &amp; <a class="code hl_define" href="../../d1/dde/read__args_8h.html#a0104c40024a5f5b6c257ac14351aae2a">SHOW_TEST</a>) &amp;&amp; (tc &amp; params.<a class="code hl_variable" href="../../d6/da9/structsimulation__parameters__t.html#a6803bd6f89e0122c7b3bf50af64714b2">tests</a>))</div>
<div class="line"><span class="lineno">  427</span>      {</div>
<div class="line"><span class="lineno">  428</span>        std::cout &lt;&lt; <span class="stringliteral">&quot;test &quot;</span> &lt;&lt; std::bitset&lt;TEST_TYPES&gt; (tc &amp; params.<a class="code hl_variable" href="../../d6/da9/structsimulation__parameters__t.html#a6803bd6f89e0122c7b3bf50af64714b2">tests</a>)</div>
<div class="line"><span class="lineno">  429</span>                  &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  430</span>      }</div>
<div class="line"><span class="lineno">  431</span> </div>
<div class="line"><span class="lineno">  432</span>      <span class="keywordflow">if</span> (!(tc &amp; params.<a class="code hl_variable" href="../../d6/da9/structsimulation__parameters__t.html#a6803bd6f89e0122c7b3bf50af64714b2">tests</a>))</div>
<div class="line"><span class="lineno">  433</span>      {</div>
<div class="line"><span class="lineno">  434</span>        <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  435</span>      }</div>
<div class="line"><span class="lineno">  436</span> </div>
<div class="line"><span class="lineno">  437</span>      <a class="code hl_function" href="../../df/d31/main__utils_8cc.html#a4a5dbbd7c40fe6e2edd8785be992bca6">show_distribution_info</a> (tc &amp; params.<a class="code hl_variable" href="../../d6/da9/structsimulation__parameters__t.html#a6803bd6f89e0122c7b3bf50af64714b2">tests</a>, to_show);</div>
<div class="line"><span class="lineno">  438</span> </div>
<div class="line"><span class="lineno">  439</span>      <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> factor = params.<a class="code hl_variable" href="../../d6/da9/structsimulation__parameters__t.html#a91db0e2c4b47594b830de790fedbc5c8">min_factor</a>; factor &lt;= params.<a class="code hl_variable" href="../../d6/da9/structsimulation__parameters__t.html#a2ae6803a691d1a6016e75ae392c635fd">max_factor</a>;</div>
<div class="line"><span class="lineno">  440</span>           factor++)</div>
<div class="line"><span class="lineno">  441</span>      {</div>
<div class="line"><span class="lineno">  442</span>        std::vector&lt;std::pair&lt;bool, round_t&gt;&gt; results =</div>
<div class="line"><span class="lineno">  443</span>          run_tests&lt;std::pair&lt;bool, round_t&gt;&gt; (</div>
<div class="line"><span class="lineno">  444</span>            n,</div>
<div class="line"><span class="lineno">  445</span>            tc &amp; params.<a class="code hl_variable" href="../../d6/da9/structsimulation__parameters__t.html#a6803bd6f89e0122c7b3bf50af64714b2">tests</a>,</div>
<div class="line"><span class="lineno">  446</span>            params.<a class="code hl_variable" href="../../d6/da9/structsimulation__parameters__t.html#aebd105f6d3a3a3a9635becb627eda0e8">runs</a>,</div>
<div class="line"><span class="lineno">  447</span>            params.<a class="code hl_variable" href="../../d6/da9/structsimulation__parameters__t.html#a5dc13eb28e84fa10f8f0915695b45d84">corruption_strategy</a>,</div>
<div class="line"><span class="lineno">  448</span>            params.<a class="code hl_variable" href="../../d6/da9/structsimulation__parameters__t.html#adfb6968457c5d2ea65a110ec34eb32a9">corruption_threshold</a>,</div>
<div class="line"><span class="lineno">  449</span>            factor,</div>
<div class="line"><span class="lineno">  450</span>            params.<a class="code hl_variable" href="../../d6/da9/structsimulation__parameters__t.html#a3904d6cef15f3d37cf0489724a790c01">ratio_rich_poor</a>,</div>
<div class="line"><span class="lineno">  451</span>            params.<a class="code hl_variable" href="../../d6/da9/structsimulation__parameters__t.html#aa2628d617cd8dd2f718d5d03370a729a">nr_rich_parties</a>,</div>
<div class="line"><span class="lineno">  452</span>            simulator_constructor,</div>
<div class="line"><span class="lineno">  453</span>            [&amp;] (<a class="code hl_class" href="../../df/dcc/classcorruptions__stake__protocol__simulator.html">corruptions_stake_protocol_simulator</a> *sim) {</div>
<div class="line"><span class="lineno">  454</span>              <span class="keywordflow">return</span> std::make_pair&lt;bool, round_t&gt; (</div>
<div class="line"><span class="lineno">  455</span>                sim-&gt;protocol_simulator::all_got_msg (),</div>
<div class="line"><span class="lineno">  456</span>                sim-&gt;protocol_simulator::get_latency ());</div>
<div class="line"><span class="lineno">  457</span>            });</div>
<div class="line"><span class="lineno">  458</span> </div>
<div class="line"><span class="lineno">  459</span>        <span class="keywordtype">double</span> correct_runs = 0;</div>
<div class="line"><span class="lineno">  460</span> </div>
<div class="line"><span class="lineno">  461</span>        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; params.<a class="code hl_variable" href="../../d6/da9/structsimulation__parameters__t.html#aebd105f6d3a3a3a9635becb627eda0e8">runs</a>; i++)</div>
<div class="line"><span class="lineno">  462</span>        {</div>
<div class="line"><span class="lineno">  463</span>          <span class="keywordflow">if</span> (std::get&lt;0&gt; (results[i]))</div>
<div class="line"><span class="lineno">  464</span>          {</div>
<div class="line"><span class="lineno">  465</span>            correct_runs++;</div>
<div class="line"><span class="lineno">  466</span>          }</div>
<div class="line"><span class="lineno">  467</span>        }</div>
<div class="line"><span class="lineno">  468</span> </div>
<div class="line"><span class="lineno">  469</span>        <a class="code hl_function" href="../../df/d31/main__utils_8cc.html#ad1b6cbe8df7ce0708db2a999eabbc1f4">show_run_data</a> (</div>
<div class="line"><span class="lineno">  470</span>          prot_name, correct_runs, params.<a class="code hl_variable" href="../../d6/da9/structsimulation__parameters__t.html#aebd105f6d3a3a3a9635becb627eda0e8">runs</a>, factor, params.<a class="code hl_variable" href="../../d6/da9/structsimulation__parameters__t.html#ab94e4551c8b53adde258d914058af61b">to_show</a>);</div>
<div class="line"><span class="lineno">  471</span>      }</div>
<div class="line"><span class="lineno">  472</span>    }</div>
<div class="line"><span class="lineno">  473</span>  }</div>
<div class="line"><span class="lineno">  474</span>}</div>
<div class="ttc" id="aclasscorruptions__stake__protocol__simulator_html"><div class="ttname"><a href="../../df/dcc/classcorruptions__stake__protocol__simulator.html">corruptions_stake_protocol_simulator</a></div><div class="ttdoc">Abstract class for protocol simulators with stake and corruptions.</div><div class="ttdef"><b>Definition:</b> corruptions_stake_protocol_simulator.h:36</div></div>
<div class="ttc" id="amain__utils_8cc_html_a4a5dbbd7c40fe6e2edd8785be992bca6"><div class="ttname"><a href="../../df/d31/main__utils_8cc.html#a4a5dbbd7c40fe6e2edd8785be992bca6">show_distribution_info</a></div><div class="ttdeci">void show_distribution_info(unsigned int flags, unsigned int to_show)</div><div class="ttdoc">Prints the distribution name for a given set of flags (which represent a distribution).</div><div class="ttdef"><b>Definition:</b> main_utils.cc:227</div></div>
<div class="ttc" id="amain__utils_8cc_html_ad1b6cbe8df7ce0708db2a999eabbc1f4"><div class="ttname"><a href="../../df/d31/main__utils_8cc.html#ad1b6cbe8df7ce0708db2a999eabbc1f4">show_run_data</a></div><div class="ttdeci">void show_run_data(std::string prot_name, double correct_runs, double runs, size_t factor, unsigned int to_show)</div><div class="ttdef"><b>Definition:</b> main_utils.cc:267</div></div>
<div class="ttc" id="aread__args_8h_html_a0104c40024a5f5b6c257ac14351aae2a"><div class="ttname"><a href="../../d1/dde/read__args_8h.html#a0104c40024a5f5b6c257ac14351aae2a">SHOW_TEST</a></div><div class="ttdeci">#define SHOW_TEST</div><div class="ttdef"><b>Definition:</b> read_args.h:44</div></div>
<div class="ttc" id="aread__args_8h_html_a2531e6fc200c8f6d56040f8e8c9d9a4b"><div class="ttname"><a href="../../d1/dde/read__args_8h.html#a2531e6fc200c8f6d56040f8e8c9d9a4b">read_parameters</a></div><div class="ttdeci">simulation_parameters_t read_parameters(int argc, char **argv)</div><div class="ttdoc">Reads the input parameters.</div></div>
<div class="ttc" id="aread__args_8h_html_a4d15e274f5db9e703aab8c9e3cecf8f4"><div class="ttname"><a href="../../d1/dde/read__args_8h.html#a4d15e274f5db9e703aab8c9e3cecf8f4">print_parameters</a></div><div class="ttdeci">void print_parameters(simulation_parameters_t params)</div><div class="ttdoc">Prints the parameters for the run.</div></div>
<div class="ttc" id="aread__args_8h_html_a8109191f903863feb2813754155d8b4c"><div class="ttname"><a href="../../d1/dde/read__args_8h.html#a8109191f903863feb2813754155d8b4c">SHOW_NR_PARTIES</a></div><div class="ttdeci">#define SHOW_NR_PARTIES</div><div class="ttdef"><b>Definition:</b> read_args.h:43</div></div>
<div class="ttc" id="aread__args_8h_html_aa21c996aadce8ae75772cbc3b8793842"><div class="ttname"><a href="../../d1/dde/read__args_8h.html#aa21c996aadce8ae75772cbc3b8793842">TEST_TYPES</a></div><div class="ttdeci">#define TEST_TYPES</div><div class="ttdef"><b>Definition:</b> read_args.h:25</div></div>
<div class="ttc" id="astructsimulation__parameters__t_html"><div class="ttname"><a href="../../d6/da9/structsimulation__parameters__t.html">simulation_parameters_t</a></div><div class="ttdoc">Structure that contains all the relevant information for running the simulator for a fixed protocol.</div><div class="ttdef"><b>Definition:</b> read_args.h:64</div></div>
<div class="ttc" id="astructsimulation__parameters__t_html_a2ae6803a691d1a6016e75ae392c635fd"><div class="ttname"><a href="../../d6/da9/structsimulation__parameters__t.html#a2ae6803a691d1a6016e75ae392c635fd">simulation_parameters_t::max_factor</a></div><div class="ttdeci">size_t max_factor</div><div class="ttdoc">the maximum factor to test</div><div class="ttdef"><b>Definition:</b> read_args.h:93</div></div>
<div class="ttc" id="astructsimulation__parameters__t_html_a3904d6cef15f3d37cf0489724a790c01"><div class="ttname"><a href="../../d6/da9/structsimulation__parameters__t.html#a3904d6cef15f3d37cf0489724a790c01">simulation_parameters_t::ratio_rich_poor</a></div><div class="ttdeci">double ratio_rich_poor</div><div class="ttdoc">ratio between richest party(ies) and poorest party(ies).</div><div class="ttdef"><b>Definition:</b> read_args.h:80</div></div>
<div class="ttc" id="astructsimulation__parameters__t_html_a5dc13eb28e84fa10f8f0915695b45d84"><div class="ttname"><a href="../../d6/da9/structsimulation__parameters__t.html#a5dc13eb28e84fa10f8f0915695b45d84">simulation_parameters_t::corruption_strategy</a></div><div class="ttdeci">corruption_t corruption_strategy</div><div class="ttdoc">how parties should be corrupted</div><div class="ttdef"><b>Definition:</b> read_args.h:69</div></div>
<div class="ttc" id="astructsimulation__parameters__t_html_a6803bd6f89e0122c7b3bf50af64714b2"><div class="ttname"><a href="../../d6/da9/structsimulation__parameters__t.html#a6803bd6f89e0122c7b3bf50af64714b2">simulation_parameters_t::tests</a></div><div class="ttdeci">unsigned int tests</div><div class="ttdoc">which tests to run</div><div class="ttdef"><b>Definition:</b> read_args.h:67</div></div>
<div class="ttc" id="astructsimulation__parameters__t_html_a91db0e2c4b47594b830de790fedbc5c8"><div class="ttname"><a href="../../d6/da9/structsimulation__parameters__t.html#a91db0e2c4b47594b830de790fedbc5c8">simulation_parameters_t::min_factor</a></div><div class="ttdeci">size_t min_factor</div><div class="ttdoc">The minimum and maximum factors to test: The simulator is run for a factor starting at factor = min_f...</div><div class="ttdef"><b>Definition:</b> read_args.h:92</div></div>
<div class="ttc" id="astructsimulation__parameters__t_html_a9e47a83011545a35009a8ab6cdb5b464"><div class="ttname"><a href="../../d6/da9/structsimulation__parameters__t.html#a9e47a83011545a35009a8ab6cdb5b464">simulation_parameters_t::min_nr_parties</a></div><div class="ttdeci">party_t min_nr_parties</div><div class="ttdoc">The parameters below are only relevant for the generation of the stake distributions.</div><div class="ttdef"><b>Definition:</b> read_args.h:77</div></div>
<div class="ttc" id="astructsimulation__parameters__t_html_aa2628d617cd8dd2f718d5d03370a729a"><div class="ttname"><a href="../../d6/da9/structsimulation__parameters__t.html#aa2628d617cd8dd2f718d5d03370a729a">simulation_parameters_t::nr_rich_parties</a></div><div class="ttdeci">party_t nr_rich_parties</div><div class="ttdoc">number of rich parties (only relevant for the few fat stake distribution</div><div class="ttdef"><b>Definition:</b> read_args.h:81</div></div>
<div class="ttc" id="astructsimulation__parameters__t_html_ab94e4551c8b53adde258d914058af61b"><div class="ttname"><a href="../../d6/da9/structsimulation__parameters__t.html#ab94e4551c8b53adde258d914058af61b">simulation_parameters_t::to_show</a></div><div class="ttdeci">unsigned int to_show</div><div class="ttdoc">the flags that indicate what information to display when running the simulator</div><div class="ttdef"><b>Definition:</b> read_args.h:84</div></div>
<div class="ttc" id="astructsimulation__parameters__t_html_adfb6968457c5d2ea65a110ec34eb32a9"><div class="ttname"><a href="../../d6/da9/structsimulation__parameters__t.html#adfb6968457c5d2ea65a110ec34eb32a9">simulation_parameters_t::corruption_threshold</a></div><div class="ttdeci">double corruption_threshold</div><div class="ttdoc">upper bound on corruption fraction</div><div class="ttdef"><b>Definition:</b> read_args.h:70</div></div>
<div class="ttc" id="astructsimulation__parameters__t_html_ae95b7af7d4fb9d22bca818cfca9d9c32"><div class="ttname"><a href="../../d6/da9/structsimulation__parameters__t.html#ae95b7af7d4fb9d22bca818cfca9d9c32">simulation_parameters_t::max_nr_parties</a></div><div class="ttdeci">party_t max_nr_parties</div><div class="ttdoc">maximum number of parties</div><div class="ttdef"><b>Definition:</b> read_args.h:78</div></div>
<div class="ttc" id="astructsimulation__parameters__t_html_aebd105f6d3a3a3a9635becb627eda0e8"><div class="ttname"><a href="../../d6/da9/structsimulation__parameters__t.html#aebd105f6d3a3a3a9635becb627eda0e8">simulation_parameters_t::runs</a></div><div class="ttdeci">counter_t runs</div><div class="ttdoc">number of runs to make</div><div class="ttdef"><b>Definition:</b> read_args.h:65</div></div>
<div class="ttc" id="atypes_8h_html_a82187f179e537bebf2170deb85c3d6a8"><div class="ttname"><a href="../../d9/d49/types_8h.html#a82187f179e537bebf2170deb85c3d6a8">party_t</a></div><div class="ttdeci">std::size_t party_t</div><div class="ttdef"><b>Definition:</b> types.h:10</div></div>
<div class="ttc" id="ayal__log_8h_html_a87103a740d52e7f53735ab475524d9ad"><div class="ttname"><a href="../../d0/d70/yal__log_8h.html#a87103a740d52e7f53735ab475524d9ad">__yal_set_lvl_info</a></div><div class="ttdeci">#define __yal_set_lvl_info()</div><div class="ttdef"><b>Definition:</b> yal_log.h:29</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00015">__yal_init_logger</a>, <a class="el" href="../../#l00029">__yal_set_lvl_info</a>, <a class="el" href="../../#l00069">simulation_parameters_t::corruption_strategy</a>, <a class="el" href="../../#l00070">simulation_parameters_t::corruption_threshold</a>, <a class="el" href="../../d6/d74/random__utils_8h.html#a1d7a32b3a4c548edb7d0a4f9d98345d2">init_random_utils()</a>, <a class="el" href="../../#l00093">simulation_parameters_t::max_factor</a>, <a class="el" href="../../#l00078">simulation_parameters_t::max_nr_parties</a>, <a class="el" href="../../#l00092">simulation_parameters_t::min_factor</a>, <a class="el" href="../../#l00077">simulation_parameters_t::min_nr_parties</a>, <a class="el" href="../../#l00081">simulation_parameters_t::nr_rich_parties</a>, <a class="el" href="../../d1/dde/read__args_8h.html#a4d15e274f5db9e703aab8c9e3cecf8f4">print_parameters()</a>, <a class="el" href="../../#l00080">simulation_parameters_t::ratio_rich_poor</a>, <a class="el" href="../../d1/dde/read__args_8h.html#a2531e6fc200c8f6d56040f8e8c9d9a4b">read_parameters()</a>, <a class="el" href="../../#l00065">simulation_parameters_t::runs</a>, <a class="el" href="../../#l00227">show_distribution_info()</a>, <a class="el" href="../../#l00043">SHOW_NR_PARTIES</a>, <a class="el" href="../../#l00267">show_run_data()</a>, <a class="el" href="../../#l00044">SHOW_TEST</a>, <a class="el" href="../../#l00025">TEST_TYPES</a>, <a class="el" href="../../#l00067">simulation_parameters_t::tests</a>, and <a class="el" href="../../#l00084">simulation_parameters_t::to_show</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00004">main()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../df/d31/main__utils_8cc_a8f4afe28d9c87b5957823f96ebe7dd48_cgraph.svg" width="498" height="254"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../df/d31/main__utils_8cc_a8f4afe28d9c87b5957823f96ebe7dd48_icgraph.svg" width="362" height="40"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a879988a35d9f365cfd7be505e0b71fac" name="a879988a35d9f365cfd7be505e0b71fac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a879988a35d9f365cfd7be505e0b71fac">&#9670;&nbsp;</a></span>run_tests() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">template std::vector&lt; std::pair&lt; bool, <a class="el" href="../../d9/d49/types_8h.html#a4f4e83773e5110174ea5b38137e1a6f6">round_t</a> &gt; &gt; run_tests </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d49/types_8h.html#a82187f179e537bebf2170deb85c3d6a8">party_t</a>&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>runs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/d49/types_8h.html#ab7662475b458e14534004c28ee68aebb">corruption_t</a>&#160;</td>
          <td class="paramname"><em>corruption_strategy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>corruption_threshold</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>factor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>rich_poor_ratio</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long unsigned int&#160;</td>
          <td class="paramname"><em>nr_rich</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::function&lt; <a class="el" href="../../df/dcc/classcorruptions__stake__protocol__simulator.html">corruptions_stake_protocol_simulator</a> *(std::vector&lt; <a class="el" href="../../d9/d49/types_8h.html#a9d08d501a63aaa3f54930ebf35037298">stake_t</a> &gt;, <a class="el" href="../../d9/d49/types_8h.html#a9d08d501a63aaa3f54930ebf35037298">stake_t</a>, size_t)&gt;&#160;</td>
          <td class="paramname"><em>simulator_constructor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::function&lt; std::pair&lt; bool, <a class="el" href="../../d9/d49/types_8h.html#a4f4e83773e5110174ea5b38137e1a6f6">round_t</a> &gt;(<a class="el" href="../../df/dcc/classcorruptions__stake__protocol__simulator.html">corruptions_stake_protocol_simulator</a> *)&gt;&#160;</td>
          <td class="paramname"><em>get_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a0444e24a736cc8cfe957ba539ff8e797" name="a0444e24a736cc8cfe957ba539ff8e797"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0444e24a736cc8cfe957ba539ff8e797">&#9670;&nbsp;</a></span>run_tests() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; T &gt; run_tests </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d49/types_8h.html#a82187f179e537bebf2170deb85c3d6a8">party_t</a>&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>runs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/d49/types_8h.html#ab7662475b458e14534004c28ee68aebb">corruption_t</a>&#160;</td>
          <td class="paramname"><em>corruption_strategy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>corruption_threshold</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>factor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>param1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long unsigned int&#160;</td>
          <td class="paramname"><em>param2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::function&lt; <a class="el" href="../../df/dcc/classcorruptions__stake__protocol__simulator.html">corruptions_stake_protocol_simulator</a> *(std::vector&lt; <a class="el" href="../../d9/d49/types_8h.html#a9d08d501a63aaa3f54930ebf35037298">stake_t</a> &gt;, <a class="el" href="../../d9/d49/types_8h.html#a9d08d501a63aaa3f54930ebf35037298">stake_t</a>, size_t)&gt;&#160;</td>
          <td class="paramname"><em>simulator_constructor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::function&lt; T(<a class="el" href="../../df/dcc/classcorruptions__stake__protocol__simulator.html">corruptions_stake_protocol_simulator</a> *)&gt;&#160;</td>
          <td class="paramname"><em>get_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Runs tests for a fixed set of parameters. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">number</td><td>of parties. </td></tr>
    <tr><td class="paramname">flags</td><td>for which test to be run. </td></tr>
    <tr><td class="paramname">number</td><td>of runs to make. </td></tr>
    <tr><td class="paramname">corruption</td><td>strategy. </td></tr>
    <tr><td class="paramname">corruption</td><td>threshold. </td></tr>
    <tr><td class="paramname">multiplicative</td><td>factor for how many parties to target. </td></tr>
    <tr><td class="paramname">ratio</td><td>between stake of richest and poorest party(ies). </td></tr>
    <tr><td class="paramname">number</td><td>of richest parties. </td></tr>
    <tr><td class="paramname">constructor</td><td>for the protocol simulator to be used. </td></tr>
    <tr><td class="paramname">function</td><td>that extracts data from a set of runs (with the same parameters). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a vector with the data from the tests run. </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  309</span>{</div>
<div class="line"><span class="lineno">  310</span>  <a class="code hl_define" href="../../d0/d70/yal__log_8h.html#aa1a44fc89acffe0e9ceb68840e2516b9">__yal_log</a> (<a class="code hl_define" href="../../d0/d70/yal__log_8h.html#aa60136c17617acba656334cdac4db9f6">__YAL_INFO</a>,</div>
<div class="line"><span class="lineno">  311</span>             <span class="stringliteral">&quot;&lt;main_utils.cc:run_tests(%lu,%s,%lu,%lu,%lf,%lu,%lf,%lu)&gt;\n&quot;</span>,</div>
<div class="line"><span class="lineno">  312</span>             n,</div>
<div class="line"><span class="lineno">  313</span>             (std::bitset&lt;TEST_TYPES&gt; (flags)).to_string ().c_str (),</div>
<div class="line"><span class="lineno">  314</span>             runs,</div>
<div class="line"><span class="lineno">  315</span>             corruption_strategy,</div>
<div class="line"><span class="lineno">  316</span>             corruption_threshold,</div>
<div class="line"><span class="lineno">  317</span>             factor,</div>
<div class="line"><span class="lineno">  318</span>             rich_poor_ratio,</div>
<div class="line"><span class="lineno">  319</span>             nr_rich);</div>
<div class="line"><span class="lineno">  320</span> </div>
<div class="line"><span class="lineno">  321</span>  <span class="keywordflow">if</span> (!flags)</div>
<div class="line"><span class="lineno">  322</span>  {</div>
<div class="line"><span class="lineno">  323</span>    std::string up = <span class="stringliteral">&quot;&lt;main_utils.cc:run_tests&gt;: No flags were set&quot;</span>;</div>
<div class="line"><span class="lineno">  324</span>    <span class="keywordflow">throw</span> up;</div>
<div class="line"><span class="lineno">  325</span>  }</div>
<div class="line"><span class="lineno">  326</span> </div>
<div class="line"><span class="lineno">  327</span>  std::vector&lt;stake_t&gt; stakes =</div>
<div class="line"><span class="lineno">  328</span>    <a class="code hl_function" href="../../df/d31/main__utils_8cc.html#a3201d4e5bc0eff5d7dd5c0993b5aaa34">generate_stake_distribution</a> (n, rich_poor_ratio, nr_rich, flags);</div>
<div class="line"><span class="lineno">  329</span> </div>
<div class="line"><span class="lineno">  330</span>  <a class="code hl_typedef" href="../../d9/d49/types_8h.html#a9d08d501a63aaa3f54930ebf35037298">stake_t</a> total_stake = 0;</div>
<div class="line"><span class="lineno">  331</span>  <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; n; i++)</div>
<div class="line"><span class="lineno">  332</span>  {</div>
<div class="line"><span class="lineno">  333</span>    total_stake += stakes[i];</div>
<div class="line"><span class="lineno">  334</span>  }</div>
<div class="line"><span class="lineno">  335</span> </div>
<div class="line"><span class="lineno">  336</span>  <a class="code hl_typedef" href="../../d9/d49/types_8h.html#a82187f179e537bebf2170deb85c3d6a8">party_t</a> sender = 0;</div>
<div class="line"><span class="lineno">  337</span> </div>
<div class="line"><span class="lineno">  338</span>  std::vector&lt;T&gt; run_data (runs);</div>
<div class="line"><span class="lineno">  339</span> </div>
<div class="line"><span class="lineno">  340</span>  <span class="comment">// run each test of a series in parallel</span></div>
<div class="line"><span class="lineno">  341</span><span class="preprocessor">#ifdef _OPENMP</span></div>
<div class="line"><span class="lineno">  342</span><span class="preprocessor">#pragma omp parallel for</span></div>
<div class="line"><span class="lineno">  343</span><span class="preprocessor">#endif    </span><span class="comment">// _OPENMP</span></div>
<div class="line"><span class="lineno">  344</span> </div>
<div class="line"><span class="lineno">  345</span>  <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d9/d49/types_8h.html#afd03de299b5a99fd58a54cdc55cc04fe">counter_t</a> c = 0; c &lt; runs; c++)</div>
<div class="line"><span class="lineno">  346</span>  {</div>
<div class="line"><span class="lineno">  347</span>    <a class="code hl_class" href="../../df/dcc/classcorruptions__stake__protocol__simulator.html">corruptions_stake_protocol_simulator</a> *sim =</div>
<div class="line"><span class="lineno">  348</span>      simulator_constructor (stakes, total_stake, factor);</div>
<div class="line"><span class="lineno">  349</span> </div>
<div class="line"><span class="lineno">  350</span>    <span class="comment">// Compute corrupted parties for each run, so that for non-deterministic</span></div>
<div class="line"><span class="lineno">  351</span>    <span class="comment">// corruption strategies the set of corrupted parties varies from run to run</span></div>
<div class="line"><span class="lineno">  352</span>    sim-&gt;<a class="code hl_function" href="../../df/dcc/classcorruptions__stake__protocol__simulator.html#ac030d874258d12f52055090f009edf4f">corrupt_parties</a> (<a class="code hl_function" href="../../df/d31/main__utils_8cc.html#a17e1a5d2f144555f81b2bed8a6ca7cd4">get_corrupted_parties</a> (</div>
<div class="line"><span class="lineno">  353</span>      stakes, {sender}, corruption_strategy, corruption_threshold));</div>
<div class="line"><span class="lineno">  354</span> </div>
<div class="line"><span class="lineno">  355</span>    sim-&gt;<a class="code hl_function" href="../../da/d73/classprotocol__simulator.html#a27b719452a52d3a45bfbbcdd0e1364e1">set_sender</a> (sender);</div>
<div class="line"><span class="lineno">  356</span> </div>
<div class="line"><span class="lineno">  357</span>    <span class="comment">// this is the computationally heavy part</span></div>
<div class="line"><span class="lineno">  358</span>    sim-&gt;<a class="code hl_function" href="../../da/d73/classprotocol__simulator.html#aa75378e2d279f5472917df08f0fe45fc">execute_protocol</a> ();</div>
<div class="line"><span class="lineno">  359</span> </div>
<div class="line"><span class="lineno">  360</span><span class="preprocessor">#ifdef _OPENMP</span></div>
<div class="line"><span class="lineno">  361</span><span class="preprocessor">#pragma omp critical</span></div>
<div class="line"><span class="lineno">  362</span><span class="preprocessor">#endif    </span><span class="comment">// _OPENMP</span></div>
<div class="line"><span class="lineno">  363</span>    {</div>
<div class="line"><span class="lineno">  364</span>      run_data[c] = get_data (sim);</div>
<div class="line"><span class="lineno">  365</span>    }</div>
<div class="line"><span class="lineno">  366</span> </div>
<div class="line"><span class="lineno">  367</span>    <span class="keyword">delete</span> sim;</div>
<div class="line"><span class="lineno">  368</span>  }</div>
<div class="line"><span class="lineno">  369</span> </div>
<div class="line"><span class="lineno">  370</span>  <span class="keywordflow">return</span> run_data;</div>
<div class="line"><span class="lineno">  371</span>}</div>
<div class="ttc" id="aclasscorruptions__stake__protocol__simulator_html_ac030d874258d12f52055090f009edf4f"><div class="ttname"><a href="../../df/dcc/classcorruptions__stake__protocol__simulator.html#ac030d874258d12f52055090f009edf4f">corruptions_stake_protocol_simulator::corrupt_parties</a></div><div class="ttdeci">void corrupt_parties(std::vector&lt; corruption_t &gt; corrupted)</div><div class="ttdoc">Sets the corruption flag of each party.</div></div>
<div class="ttc" id="aclassprotocol__simulator_html_a27b719452a52d3a45bfbbcdd0e1364e1"><div class="ttname"><a href="../../da/d73/classprotocol__simulator.html#a27b719452a52d3a45bfbbcdd0e1364e1">protocol_simulator::set_sender</a></div><div class="ttdeci">virtual void set_sender(party_t sender)</div><div class="ttdoc">Sets a sender.</div></div>
<div class="ttc" id="aclassprotocol__simulator_html_aa75378e2d279f5472917df08f0fe45fc"><div class="ttname"><a href="../../da/d73/classprotocol__simulator.html#aa75378e2d279f5472917df08f0fe45fc">protocol_simulator::execute_protocol</a></div><div class="ttdeci">virtual bool execute_protocol(round_t bound=ROUND_T_MAX)</div><div class="ttdoc">Runs the protocol for up to bound rounds.</div></div>
<div class="ttc" id="amain__utils_8cc_html_a17e1a5d2f144555f81b2bed8a6ca7cd4"><div class="ttname"><a href="../../df/d31/main__utils_8cc.html#a17e1a5d2f144555f81b2bed8a6ca7cd4">get_corrupted_parties</a></div><div class="ttdeci">std::vector&lt; corruption_t &gt; get_corrupted_parties(std::vector&lt; stake_t &gt; stakes, std::set&lt; party_t &gt; honest, corruption_t corruption_strategy, double corruption_threshold)</div><div class="ttdoc">Generates a corruption set.</div><div class="ttdef"><b>Definition:</b> main_utils.cc:127</div></div>
<div class="ttc" id="amain__utils_8cc_html_a3201d4e5bc0eff5d7dd5c0993b5aaa34"><div class="ttname"><a href="../../df/d31/main__utils_8cc.html#a3201d4e5bc0eff5d7dd5c0993b5aaa34">generate_stake_distribution</a></div><div class="ttdeci">std::vector&lt; stake_t &gt; generate_stake_distribution(party_t n, double param1, long unsigned int param2, unsigned int flags)</div><div class="ttdef"><b>Definition:</b> main_utils.cc:14</div></div>
<div class="ttc" id="atypes_8h_html_afd03de299b5a99fd58a54cdc55cc04fe"><div class="ttname"><a href="../../d9/d49/types_8h.html#afd03de299b5a99fd58a54cdc55cc04fe">counter_t</a></div><div class="ttdeci">std::size_t counter_t</div><div class="ttdef"><b>Definition:</b> types.h:11</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00034">__YAL_INFO</a>, <a class="el" href="../../#l00047">__yal_log</a>, <a class="el" href="../../df/dcc/classcorruptions__stake__protocol__simulator.html#ac030d874258d12f52055090f009edf4f">corruptions_stake_protocol_simulator::corrupt_parties()</a>, <a class="el" href="../../da/d73/classprotocol__simulator.html#aa75378e2d279f5472917df08f0fe45fc">protocol_simulator::execute_protocol()</a>, <a class="el" href="../../#l00014">generate_stake_distribution()</a>, <a class="el" href="../../#l00127">get_corrupted_parties()</a>, and <a class="el" href="../../da/d73/classprotocol__simulator.html#a27b719452a52d3a45bfbbcdd0e1364e1">protocol_simulator::set_sender()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../df/d31/main__utils_8cc_a0444e24a736cc8cfe957ba539ff8e797_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a4a5dbbd7c40fe6e2edd8785be992bca6" name="a4a5dbbd7c40fe6e2edd8785be992bca6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a5dbbd7c40fe6e2edd8785be992bca6">&#9670;&nbsp;</a></span>show_distribution_info()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void show_distribution_info </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>to_show</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prints the distribution name for a given set of flags (which represent a distribution). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">flags</td><td>the type of stake distribution. </td></tr>
    <tr><td class="paramname">to_show</td><td>flags indicating which information to show. </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><span class="lineno">  228</span>{</div>
<div class="line"><span class="lineno">  229</span>  <span class="keywordflow">if</span> (to_show &amp; <a class="code hl_define" href="../../d1/dde/read__args_8h.html#aee36e35001bde717eee93f748ff2608e">SHOW_DISTRIBUTION</a>)</div>
<div class="line"><span class="lineno">  230</span>  {</div>
<div class="line"><span class="lineno">  231</span>    <span class="keywordflow">switch</span> (flags)</div>
<div class="line"><span class="lineno">  232</span>    {</div>
<div class="line"><span class="lineno">  233</span>      <span class="keywordflow">case</span> 0b1:</div>
<div class="line"><span class="lineno">  234</span>        std::cout &lt;&lt; <span class="stringliteral">&quot;Deterministic Constant distribution&quot;</span>;</div>
<div class="line"><span class="lineno">  235</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  236</span>      <span class="keywordflow">case</span> 0b10:</div>
<div class="line"><span class="lineno">  237</span>        std::cout &lt;&lt; <span class="stringliteral">&quot;Deterministic Few Fat distribution, thin sender&quot;</span>;</div>
<div class="line"><span class="lineno">  238</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  239</span>      <span class="keywordflow">case</span> 0b100:</div>
<div class="line"><span class="lineno">  240</span>        std::cout &lt;&lt; <span class="stringliteral">&quot;Deterministic Few Fat distribution, fat sender&quot;</span>;</div>
<div class="line"><span class="lineno">  241</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  242</span>      <span class="keywordflow">case</span> 0b1000:</div>
<div class="line"><span class="lineno">  243</span>        std::cout &lt;&lt; <span class="stringliteral">&quot;Deterministic Exponential distribution, thinnest sender&quot;</span>;</div>
<div class="line"><span class="lineno">  244</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  245</span>      <span class="keywordflow">case</span> 0b10000:</div>
<div class="line"><span class="lineno">  246</span>        std::cout &lt;&lt; <span class="stringliteral">&quot;Deterministic Exponential distribution, median sender&quot;</span>;</div>
<div class="line"><span class="lineno">  247</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  248</span>      <span class="keywordflow">case</span> 0b100000:</div>
<div class="line"><span class="lineno">  249</span>        std::cout &lt;&lt; <span class="stringliteral">&quot;Deterministic Exponential distribution, fattest sender&quot;</span>;</div>
<div class="line"><span class="lineno">  250</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  251</span>      <span class="keywordflow">case</span> (0b1 &lt;&lt; 16):</div>
<div class="line"><span class="lineno">  252</span>        std::cout &lt;&lt; <span class="stringliteral">&quot;Random Exponential distribution&quot;</span>;</div>
<div class="line"><span class="lineno">  253</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  254</span>      <span class="keywordflow">case</span> (0b10 &lt;&lt; 16):</div>
<div class="line"><span class="lineno">  255</span>        std::cout &lt;&lt; <span class="stringliteral">&quot;Random Uniform distribution&quot;</span>;</div>
<div class="line"><span class="lineno">  256</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  257</span>      <span class="keywordflow">case</span> (0b100 &lt;&lt; 16):</div>
<div class="line"><span class="lineno">  258</span>        std::cout &lt;&lt; <span class="stringliteral">&quot;Random Geometric distribution&quot;</span>;</div>
<div class="line"><span class="lineno">  259</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  260</span>    }</div>
<div class="line"><span class="lineno">  261</span> </div>
<div class="line"><span class="lineno">  262</span>    std::cout &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  263</span>  }</div>
<div class="line"><span class="lineno">  264</span>}</div>
<div class="ttc" id="aread__args_8h_html_aee36e35001bde717eee93f748ff2608e"><div class="ttname"><a href="../../d1/dde/read__args_8h.html#aee36e35001bde717eee93f748ff2608e">SHOW_DISTRIBUTION</a></div><div class="ttdeci">#define SHOW_DISTRIBUTION</div><div class="ttdef"><b>Definition:</b> read_args.h:40</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00040">SHOW_DISTRIBUTION</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00388">run_command_parameters()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../df/d31/main__utils_8cc_a4a5dbbd7c40fe6e2edd8785be992bca6_icgraph.svg" width="608" height="40"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="ad1b6cbe8df7ce0708db2a999eabbc1f4" name="ad1b6cbe8df7ce0708db2a999eabbc1f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad1b6cbe8df7ce0708db2a999eabbc1f4">&#9670;&nbsp;</a></span>show_run_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void show_run_data </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>prot_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>correct_runs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>runs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>factor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>to_show</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  272</span>{</div>
<div class="line"><span class="lineno">  273</span>  <span class="comment">// To do: output the protocol name too; have to add this to the flags in the</span></div>
<div class="line"><span class="lineno">  274</span>  <span class="comment">// read_arguments source/header files</span></div>
<div class="line"><span class="lineno">  275</span>  <span class="keywordtype">double</span> success_rate = 100.00 * ((double) correct_runs) / ((double) runs);</div>
<div class="line"><span class="lineno">  276</span> </div>
<div class="line"><span class="lineno">  277</span>  <span class="keywordflow">if</span> (to_show &amp; <a class="code hl_define" href="../../d1/dde/read__args_8h.html#af03b4cce66df27a2fe1136a6fccea518">SHOW_FACTOR</a>)</div>
<div class="line"><span class="lineno">  278</span>  {</div>
<div class="line"><span class="lineno">  279</span>    std::cout &lt;&lt; <span class="stringliteral">&quot;k = &quot;</span> &lt;&lt; std::setw (3) &lt;&lt; factor;</div>
<div class="line"><span class="lineno">  280</span>    <span class="keywordflow">if</span> (to_show &amp; <a class="code hl_define" href="../../d1/dde/read__args_8h.html#a962ecd6fdde1380971e6bcc50f37d462">SHOW_SUCCESS</a>)</div>
<div class="line"><span class="lineno">  281</span>    {</div>
<div class="line"><span class="lineno">  282</span>      std::cout &lt;&lt; <span class="stringliteral">&quot;:&quot;</span>;</div>
<div class="line"><span class="lineno">  283</span>    } <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  284</span>    {</div>
<div class="line"><span class="lineno">  285</span>      std::cout &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  286</span>    }</div>
<div class="line"><span class="lineno">  287</span>  }</div>
<div class="line"><span class="lineno">  288</span> </div>
<div class="line"><span class="lineno">  289</span>  <span class="keywordflow">if</span> (to_show &amp; <a class="code hl_define" href="../../d1/dde/read__args_8h.html#a962ecd6fdde1380971e6bcc50f37d462">SHOW_SUCCESS</a>)</div>
<div class="line"><span class="lineno">  290</span>  {</div>
<div class="line"><span class="lineno">  291</span>    std::cout &lt;&lt; std::setw (8) &lt;&lt; success_rate &lt;&lt; <span class="stringliteral">&quot;%&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  292</span>  }</div>
<div class="line"><span class="lineno">  293</span>}</div>
<div class="ttc" id="aread__args_8h_html_a962ecd6fdde1380971e6bcc50f37d462"><div class="ttname"><a href="../../d1/dde/read__args_8h.html#a962ecd6fdde1380971e6bcc50f37d462">SHOW_SUCCESS</a></div><div class="ttdeci">#define SHOW_SUCCESS</div><div class="ttdef"><b>Definition:</b> read_args.h:42</div></div>
<div class="ttc" id="aread__args_8h_html_af03b4cce66df27a2fe1136a6fccea518"><div class="ttname"><a href="../../d1/dde/read__args_8h.html#af03b4cce66df27a2fe1136a6fccea518">SHOW_FACTOR</a></div><div class="ttdeci">#define SHOW_FACTOR</div><div class="ttdef"><b>Definition:</b> read_args.h:41</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00041">SHOW_FACTOR</a>, and <a class="el" href="../../#l00042">SHOW_SUCCESS</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00388">run_command_parameters()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../df/d31/main__utils_8cc_ad1b6cbe8df7ce0708db2a999eabbc1f4_icgraph.svg" width="552" height="40"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3
</small></address>
</body>
</html>
